"use strict";(globalThis.webpackChunkmy_personal_website=globalThis.webpackChunkmy_personal_website||[]).push([[8453],{2790(n,e,i){i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"payjoin/README","title":"PayJoin Guide","description":"Learn how PayJoin enhances Bitcoin privacy by breaking common blockchain analysis assumptions. A practical guide to using PayJoin transactions.","source":"@site/docs/payjoin/README.md","sourceDirName":"payjoin","slug":"/payjoin/","permalink":"/docs/payjoin/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"payjoin","permalink":"/docs/tags/payjoin"},{"inline":true,"label":"privacy","permalink":"/docs/tags/privacy"},{"inline":true,"label":"transactions","permalink":"/docs/tags/transactions"},{"inline":true,"label":"guide","permalink":"/docs/tags/guide"}],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"PayJoin Guide","description":"Learn how PayJoin enhances Bitcoin privacy by breaking common blockchain analysis assumptions. A practical guide to using PayJoin transactions.","keywords":["payjoin","bitcoin privacy","P2EP","pay to endpoint","blockchain analysis","transaction privacy"],"tags":["payjoin","privacy","transactions","guide"]},"sidebar":"tutorialPayjoin"}');var r=i(4848),t=i(8453);const o={sidebar_position:1,title:"PayJoin Guide",description:"Learn how PayJoin enhances Bitcoin privacy by breaking common blockchain analysis assumptions. A practical guide to using PayJoin transactions.",keywords:["payjoin","bitcoin privacy","P2EP","pay to endpoint","blockchain analysis","transaction privacy"],tags:["payjoin","privacy","transactions","guide"]},a="PayJoin Privacy Guide",l={},c=[{value:"What is PayJoin?",id:"what-is-payjoin",level:2},{value:"Why PayJoin Matters",id:"why-payjoin-matters",level:2},{value:"The Common Input Ownership Heuristic",id:"the-common-input-ownership-heuristic",level:3},{value:"Privacy for Everyone",id:"privacy-for-everyone",level:3},{value:"How PayJoin Works",id:"how-payjoin-works",level:2},{value:"Step-by-Step Process",id:"step-by-step-process",level:3},{value:"What an Analyst Sees",id:"what-an-analyst-sees",level:3},{value:"PayJoin vs CoinJoin",id:"payjoin-vs-coinjoin",level:2},{value:"Wallets Supporting PayJoin",id:"wallets-supporting-payjoin",level:2},{value:"As Sender (Pay via PayJoin)",id:"as-sender-pay-via-payjoin",level:3},{value:"As Receiver (Accept PayJoin)",id:"as-receiver-accept-payjoin",level:3},{value:"Using PayJoin with Sparrow Wallet",id:"using-payjoin-with-sparrow-wallet",level:2},{value:"Sending a PayJoin Payment",id:"sending-a-payjoin-payment",level:3},{value:"Receiving PayJoin Payments",id:"receiving-payjoin-payments",level:3},{value:"Using PayJoin with BTCPay Server",id:"using-payjoin-with-btcpay-server",level:2},{value:"Enable PayJoin",id:"enable-payjoin",level:3},{value:"How It Works for Customers",id:"how-it-works-for-customers",level:3},{value:"PayJoin Best Practices",id:"payjoin-best-practices",level:2},{value:"Do&#39;s \u2705",id:"dos-",level:3},{value:"Don&#39;ts \u274c",id:"donts-",level:3},{value:"Limitations of PayJoin",id:"limitations-of-payjoin",level:2},{value:"What PayJoin Doesn&#39;t Do",id:"what-payjoin-doesnt-do",level:3},{value:"When to Use CoinJoin Instead",id:"when-to-use-coinjoin-instead",level:3},{value:"The Bigger Picture",id:"the-bigger-picture",level:2},{value:"Summary",id:"summary",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Resources",id:"resources",level:2}];function d(n){const e={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"payjoin-privacy-guide",children:"PayJoin Privacy Guide"})}),"\n",(0,r.jsxs)(e.admonition,{title:"What You'll Do",type:"info",children:[(0,r.jsx)(e.p,{children:"In this guide, you will:"}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Understand what PayJoin is and why it matters"}),"\n",(0,r.jsx)(e.li,{children:"Learn how PayJoin breaks blockchain analysis"}),"\n",(0,r.jsx)(e.li,{children:"Set up and use PayJoin transactions"}),"\n",(0,r.jsx)(e.li,{children:"Know when PayJoin is the right privacy tool"}),"\n"]}),(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Time required:"})," 30 minutes to learn, variable to implement",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.strong,{children:"Difficulty:"})," Intermediate",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.strong,{children:"Estimated cost:"})," Free (just transaction fees)",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.strong,{children:"Prerequisites:"})," Understanding of ",(0,r.jsx)(e.a,{href:"/docs/basics/transactions/utxos",children:"UTXOs"}),", a compatible wallet"]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"what-is-payjoin",children:"What is PayJoin?"}),"\n",(0,r.jsxs)(e.p,{children:["PayJoin (also known as P2EP \u2014 Pay-to-EndPoint) is a privacy technique where ",(0,r.jsx)(e.strong,{children:"both the sender and receiver contribute inputs"})," to a transaction."]}),"\n",(0,r.jsx)(e.p,{children:"In a normal Bitcoin transaction:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Sender provides inputs"}),"\n",(0,r.jsx)(e.li,{children:"Receiver gets an output"}),"\n",(0,r.jsx)(e.li,{children:"Sender gets change"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"In a PayJoin transaction:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Both"})," sender and receiver provide inputs"]}),"\n",(0,r.jsx)(e.li,{children:"Both get outputs"}),"\n",(0,r.jsx)(e.li,{children:"The transaction looks like a regular payment, but the assumptions analysts make about it are wrong"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'NORMAL TRANSACTION:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nAlice (sender)              \u2192       Bob (receiver)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Input: 1 BTC\u2502        \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba   \u2502 Output: 0.7 \u2502 Bob\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502 Output: 0.3 \u2502 Alice (change)\n                                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nAnalyst assumes: All inputs belong to sender (Alice)\n\n\nPAYJOIN TRANSACTION:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nAlice (sender) + Bob (receiver)  \u2192  Both\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Input: 1 BTC\u2502 (Alice)           \u2502 Output: 1.2 \u2502 Bob\n\u2502 Input: 0.5  \u2502 (Bob)    \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \u2502 Output: 0.3 \u2502 Alice (change)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nAnalyst assumes: All inputs belong to sender \u2014 WRONG!\nThe "common input ownership" heuristic fails.\n'})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"why-payjoin-matters",children:"Why PayJoin Matters"}),"\n",(0,r.jsx)(e.h3,{id:"the-common-input-ownership-heuristic",children:"The Common Input Ownership Heuristic"}),"\n",(0,r.jsx)(e.p,{children:"Blockchain analysts rely on a key assumption:"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:'"All inputs in a transaction belong to the same entity."'})}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"This assumption is correct most of the time, which is why it's so useful for surveillance. Chain analysis companies trace funds by assuming inputs are owned together."}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"PayJoin breaks this assumption."})}),"\n",(0,r.jsxs)(e.p,{children:["When PayJoin transactions exist on-chain, analysts can no longer be certain that inputs share ownership \u2014 even in transactions that ",(0,r.jsx)(e.em,{children:"aren't"})," PayJoins. This creates doubt across all transactions."]}),"\n",(0,r.jsx)(e.h3,{id:"privacy-for-everyone",children:"Privacy for Everyone"}),"\n",(0,r.jsx)(e.p,{children:"Even if you never use PayJoin yourself, widespread PayJoin adoption helps you:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Adds uncertainty to chain analysis"}),"\n",(0,r.jsx)(e.li,{children:'Makes the "common input ownership" assumption unreliable'}),"\n",(0,r.jsx)(e.li,{children:"Benefits the entire network, not just participants"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"how-payjoin-works",children:"How PayJoin Works"}),"\n",(0,r.jsx)(e.h3,{id:"step-by-step-process",children:"Step-by-Step Process"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"PAYJOIN FLOW:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1. Alice wants to pay Bob 0.7 BTC\n\n2. Alice creates a normal transaction:\n   - Input: 1 BTC (Alice's UTXO)\n   - Output: 0.7 BTC to Bob\n   - Output: 0.3 BTC change to Alice\n\n3. Instead of broadcasting, Alice sends this to Bob's PayJoin endpoint\n\n4. Bob adds his own input:\n   - Adds Input: 0.5 BTC (Bob's UTXO)\n   - Adjusts his output: 0.7 + 0.5 = 1.2 BTC\n\n5. Bob sends the modified transaction back to Alice\n\n6. Alice verifies the transaction still pays the correct amount\n   and signs her inputs\n\n7. The final transaction is broadcast:\n   - Inputs: 1 BTC (Alice) + 0.5 BTC (Bob)\n   - Outputs: 1.2 BTC (Bob) + 0.3 BTC (Alice)\n\nFrom outside, it looks like Alice spent 1.5 BTC total.\nNo one knows Bob contributed an input.\n"})}),"\n",(0,r.jsx)(e.h3,{id:"what-an-analyst-sees",children:"What an Analyst Sees"}),"\n",(0,r.jsx)(e.p,{children:"Looking at the PayJoin transaction on the blockchain:"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"What Analyst Assumes"}),(0,r.jsx)(e.th,{children:"Reality"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Sender owns 1.5 BTC of inputs"}),(0,r.jsx)(e.td,{children:"Sender owns 1 BTC, receiver owns 0.5 BTC"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Payment amount is ~1.2 BTC"}),(0,r.jsx)(e.td,{children:"Payment amount is 0.7 BTC"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Change is 0.3 BTC"}),(0,r.jsx)(e.td,{children:"This is actually correct (by coincidence)"})]})]})]}),"\n",(0,r.jsx)(e.p,{children:"The analyst's model of the transaction is completely wrong."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"payjoin-vs-coinjoin",children:"PayJoin vs CoinJoin"}),"\n",(0,r.jsx)(e.p,{children:"Both are privacy techniques, but they work differently:"}),"\n",(0,r.jsx)("div",{class:"fixed-width-table",children:(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"PayJoin"}),(0,r.jsx)(e.th,{children:"CoinJoin"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Participants"})}),(0,r.jsx)(e.td,{children:"2 (sender + receiver)"}),(0,r.jsx)(e.td,{children:"Many (5-100+)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Coordination"})}),(0,r.jsx)(e.td,{children:"Direct, during payment"}),(0,r.jsx)(e.td,{children:"Requires coordinator or protocol"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Visibility"})}),(0,r.jsx)(e.td,{children:"Looks like normal transaction"}),(0,r.jsx)(e.td,{children:"Clearly identifiable as CoinJoin"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Use case"})}),(0,r.jsx)(e.td,{children:"Privacy during payments"}),(0,r.jsx)(e.td,{children:"Breaking transaction history"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Complexity"})}),(0,r.jsx)(e.td,{children:"Simple"}),(0,r.jsx)(e.td,{children:"More complex"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Fees"})}),(0,r.jsx)(e.td,{children:"Normal transaction fee"}),(0,r.jsx)(e.td,{children:"Coordinator fees + larger tx"})]})]})]})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"PayJoin is stealth privacy"})," \u2014 it doesn't look like a privacy transaction."]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"CoinJoin is explicit privacy"})," \u2014 anyone can see it's a mixing transaction (though they can't trace through it)."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"wallets-supporting-payjoin",children:"Wallets Supporting PayJoin"}),"\n",(0,r.jsx)(e.h3,{id:"as-sender-pay-via-payjoin",children:"As Sender (Pay via PayJoin)"}),"\n",(0,r.jsx)("div",{class:"fixed-width-table",children:(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Wallet"}),(0,r.jsx)(e.th,{children:"Platform"}),(0,r.jsx)(e.th,{children:"PayJoin Support"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Sparrow"})}),(0,r.jsx)(e.td,{children:"Desktop"}),(0,r.jsx)(e.td,{children:"\u2705 Full support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"BTCPay Server"})}),(0,r.jsx)(e.td,{children:"Web"}),(0,r.jsx)(e.td,{children:"\u2705 Full support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Wasabi"})}),(0,r.jsx)(e.td,{children:"Desktop"}),(0,r.jsx)(e.td,{children:"\u2705 Full support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"BlueWallet"})}),(0,r.jsx)(e.td,{children:"Mobile"}),(0,r.jsx)(e.td,{children:"\u2705 Full support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"JoinMarket"})}),(0,r.jsx)(e.td,{children:"Desktop"}),(0,r.jsx)(e.td,{children:"\u2705 Full support"})]})]})]})}),"\n",(0,r.jsx)(e.h3,{id:"as-receiver-accept-payjoin",children:"As Receiver (Accept PayJoin)"}),"\n",(0,r.jsx)(e.p,{children:"To receive PayJoin payments, you need:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"A wallet with PayJoin receiver support, AND"}),"\n",(0,r.jsx)(e.li,{children:"A way to expose a PayJoin endpoint (URL)"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"BTCPay Server"})," is the easiest option for merchants \u2014 it handles PayJoin automatically for customers whose wallets support it."]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"using-payjoin-with-sparrow-wallet",children:"Using PayJoin with Sparrow Wallet"}),"\n",(0,r.jsx)(e.h3,{id:"sending-a-payjoin-payment",children:"Sending a PayJoin Payment"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Recipient provides PayJoin URL"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Looks like: ",(0,r.jsx)(e.code,{children:"https://btcpay.example.com/BTC/pj"})]}),"\n",(0,r.jsx)(e.li,{children:"Usually encoded in a BIP21 URI"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Create transaction in Sparrow"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Go to ",(0,r.jsx)(e.strong,{children:"Send"})," tab"]}),"\n",(0,r.jsx)(e.li,{children:"Paste the BIP21 URI (includes PayJoin endpoint)"}),"\n",(0,r.jsx)(e.li,{children:"Sparrow detects the PayJoin capability"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Review and send"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Sparrow handles the PayJoin negotiation automatically"}),"\n",(0,r.jsx)(e.li,{children:"You'll see it's a PayJoin in the transaction details"}),"\n",(0,r.jsx)(e.li,{children:"Confirm and broadcast"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"receiving-payjoin-payments",children:"Receiving PayJoin Payments"}),"\n",(0,r.jsx)(e.p,{children:"For individuals, receiving PayJoin typically requires running BTCPay Server or similar infrastructure. This is more advanced."}),"\n",(0,r.jsx)(e.p,{children:"For merchants, BTCPay Server makes it automatic \u2014 just enable PayJoin in settings."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"using-payjoin-with-btcpay-server",children:"Using PayJoin with BTCPay Server"}),"\n",(0,r.jsx)(e.p,{children:"If you run a BTCPay Server instance (for your business or personal use):"}),"\n",(0,r.jsx)(e.h3,{id:"enable-payjoin",children:"Enable PayJoin"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["Go to ",(0,r.jsx)(e.strong,{children:"Store Settings \u2192 Checkout"})]}),"\n",(0,r.jsxs)(e.li,{children:["Find ",(0,r.jsx)(e.strong,{children:"PayJoin (BIP78)"})," option"]}),"\n",(0,r.jsx)(e.li,{children:"Enable it"}),"\n",(0,r.jsx)(e.li,{children:"Configure your hot wallet (PayJoin requires a hot wallet to contribute inputs)"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"how-it-works-for-customers",children:"How It Works for Customers"}),"\n",(0,r.jsx)(e.p,{children:"When a customer pays an invoice:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"They scan/copy the payment request"}),"\n",(0,r.jsx)(e.li,{children:"If their wallet supports PayJoin, it automatically negotiates"}),"\n",(0,r.jsx)(e.li,{children:"The transaction uses PayJoin if both sides support it"}),"\n",(0,r.jsx)(e.li,{children:"If the customer's wallet doesn't support PayJoin, they pay normally"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"No action required from the customer \u2014 it just works."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"payjoin-best-practices",children:"PayJoin Best Practices"}),"\n",(0,r.jsx)(e.h3,{id:"dos-",children:"Do's \u2705"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Use PayJoin whenever available"})," \u2014 Every PayJoin helps network privacy"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Run BTCPay Server if you accept payments"})," \u2014 Easy PayJoin for your customers"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Combine with other privacy practices"})," \u2014 PayJoin + coin control + node"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"donts-",children:"Don'ts \u274c"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Don't expect anonymity from PayJoin alone"})," \u2014 It breaks one heuristic, not all"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Don't use with KYC UTXOs expecting full privacy"})," \u2014 Your exchange still knows your inputs"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Don't rely on receiver's privacy"})," \u2014 Receiver must trust their own infrastructure"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"limitations-of-payjoin",children:"Limitations of PayJoin"}),"\n",(0,r.jsx)(e.h3,{id:"what-payjoin-doesnt-do",children:"What PayJoin Doesn't Do"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Doesn't hide amounts"})," \u2014 Transaction amounts are still visible"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Doesn't break all heuristics"})," \u2014 Only defeats common input ownership"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Doesn't work retroactively"})," \u2014 Only helps new transactions"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Requires receiver support"})," \u2014 Both parties need compatible wallets"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"when-to-use-coinjoin-instead",children:"When to Use CoinJoin Instead"}),"\n",(0,r.jsxs)(e.p,{children:["Use ",(0,r.jsx)(e.a,{href:"/docs/coinjoin",children:"CoinJoin"})," when you need:"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"To break links to past transaction history"}),"\n",(0,r.jsx)(e.li,{children:"Stronger anonymity set (many participants)"}),"\n",(0,r.jsx)(e.li,{children:"Privacy without receiver cooperation"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Use PayJoin when:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Making a payment to a supporting merchant"}),"\n",(0,r.jsx)(e.li,{children:"You want stealth privacy (doesn't look like a privacy transaction)"}),"\n",(0,r.jsx)(e.li,{children:"You want to help network privacy broadly"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"the-bigger-picture",children:"The Bigger Picture"}),"\n",(0,r.jsx)(e.p,{children:"PayJoin is one tool in the privacy toolbox:"}),"\n",(0,r.jsx)("div",{class:"fixed-width-table",children:(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Privacy Tool"}),(0,r.jsx)(e.th,{children:"What It Does"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Own node"})}),(0,r.jsx)(e.td,{children:"Hides your addresses from third parties"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Coin control"})}),(0,r.jsx)(e.td,{children:"Prevents linking your UTXOs together"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"PayJoin"})}),(0,r.jsx)(e.td,{children:"Breaks common input ownership heuristic"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"CoinJoin"})}),(0,r.jsx)(e.td,{children:"Breaks transaction graph traceability"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Tor"})}),(0,r.jsx)(e.td,{children:"Hides your IP when transacting"})]})]})]})}),"\n",(0,r.jsx)(e.p,{children:"Maximum privacy uses multiple layers together."}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["PayJoin is a ",(0,r.jsx)(e.strong,{children:"stealth privacy technique"})," where sender and receiver both contribute inputs"]}),"\n",(0,r.jsxs)(e.li,{children:["It ",(0,r.jsx)(e.strong,{children:"breaks the common input ownership assumption"})," that chain analysis relies on"]}),"\n",(0,r.jsxs)(e.li,{children:["PayJoin transactions ",(0,r.jsx)(e.strong,{children:"look like normal payments"})," \u2014 they're not identifiable as privacy transactions"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Widespread adoption benefits everyone"})," \u2014 even non-users gain from increased uncertainty"]}),"\n",(0,r.jsx)(e.li,{children:"Use PayJoin whenever you're paying a merchant or service that supports it"}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/docs/coinjoin",children:"CoinJoin Guide"})})," \u2014 For breaking transaction history"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/docs/utxo-management",children:"UTXO Management"})})," \u2014 Control which coins you spend"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/docs/basics/privacy/why-privacy-matters",children:"Why Privacy Matters"})})," \u2014 The bigger picture"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"/docs/bitcoin-node",children:"Bitcoin Node Guide"})})," \u2014 Hide your addresses from third parties"]}),"\n"]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://github.com/bitcoin/bips/blob/master/bip-0078.mediawiki",children:"BIP78 Specification"})," \u2014 The technical standard"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://docs.btcpayserver.org/Payjoin/",children:"BTCPay Server PayJoin Docs"})," \u2014 Setup guide for merchants"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.a,{href:"https://sparrowwallet.com",children:"Sparrow Wallet"})," \u2014 Desktop wallet with PayJoin support"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},8453(n,e,i){i.d(e,{R:()=>o,x:()=>a});var s=i(6540);const r={},t=s.createContext(r);function o(n){const e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);