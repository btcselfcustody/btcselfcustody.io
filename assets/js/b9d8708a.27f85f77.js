"use strict";(globalThis.webpackChunkmy_personal_website=globalThis.webpackChunkmy_personal_website||[]).push([[1068],{2039(e,n,o){o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"bitcoin-node/tor","title":"Tor Configuration for Bitcoin Nodes","description":"Configure your Bitcoin node to run over Tor for enhanced privacy. Hide your IP address and enable secure remote access to your node.","source":"@site/docs/bitcoin-node/tor.md","sourceDirName":"bitcoin-node","slug":"/bitcoin-node/tor","permalink":"/docs/bitcoin-node/tor","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"bitcoin node","permalink":"/docs/tags/bitcoin-node"},{"inline":true,"label":"tor","permalink":"/docs/tags/tor"},{"inline":true,"label":"privacy","permalink":"/docs/tags/privacy"},{"inline":true,"label":"self custody","permalink":"/docs/tags/self-custody"}],"version":"current","lastUpdatedAt":1768437204000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Tor Configuration for Bitcoin Nodes","description":"Configure your Bitcoin node to run over Tor for enhanced privacy. Hide your IP address and enable secure remote access to your node.","keywords":["bitcoin node","tor","privacy","onion","hidden service","ip address"],"tags":["bitcoin node","tor","privacy","self custody"]},"sidebar":"tutorialBitcoinNode","previous":{"title":"Electrum Server Explained","permalink":"/docs/bitcoin-node/electrum-server"},"next":{"title":"Connect Sparrow Wallet to Your Node","permalink":"/docs/bitcoin-node/connect-sparrow-wallet"}}');var t=o(4848),i=o(8453);const s={sidebar_position:5,title:"Tor Configuration for Bitcoin Nodes",description:"Configure your Bitcoin node to run over Tor for enhanced privacy. Hide your IP address and enable secure remote access to your node.",keywords:["bitcoin node","tor","privacy","onion","hidden service","ip address"],tags:["bitcoin node","tor","privacy","self custody"]},d="Tor Configuration",a={},c=[{value:"Why Tor Matters for Nodes",id:"why-tor-matters-for-nodes",level:2},{value:"Your IP Address is Your Identity",id:"your-ip-address-is-your-identity",level:3},{value:"Two Types of Tor Connections",id:"two-types-of-tor-connections",level:3},{value:"Connection 1: Node to Bitcoin Network",id:"connection-1-node-to-bitcoin-network",level:2},{value:"What It Protects Against",id:"what-it-protects-against",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Connection 2: Your Wallet to Your Node",id:"connection-2-your-wallet-to-your-node",level:2},{value:"The Problem with Traditional Solutions",id:"the-problem-with-traditional-solutions",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Setting Up Tor",id:"setting-up-tor",level:2},{value:"With Parmanode",id:"with-parmanode",level:3},{value:"Tor Connection Details",id:"tor-connection-details",level:3},{value:"Sharing Your Node",id:"sharing-your-node",level:2},{value:"Privacy Tradeoffs",id:"privacy-tradeoffs",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tor-configuration",children:"Tor Configuration"})}),"\n",(0,t.jsx)(n.p,{children:"Your Bitcoin node talks to the world in two ways: it connects to other Bitcoin nodes to stay synchronized, and it serves your wallet's queries. Both of these connections have privacy implications\u2014and Tor can help with both."}),"\n",(0,t.jsx)(n.h2,{id:"why-tor-matters-for-nodes",children:"Why Tor Matters for Nodes"}),"\n",(0,t.jsx)(n.h3,{id:"your-ip-address-is-your-identity",children:"Your IP Address is Your Identity"}),"\n",(0,t.jsx)(n.p,{children:"When your node connects to other Bitcoin nodes, those nodes see your IP address. Your IP address isn't anonymous\u2014it's tied to your identity through your Internet Service Provider's records. With minimal effort, someone can:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Determine your approximate geographic location"}),"\n",(0,t.jsx)(n.li,{children:"Identify that you're running a Bitcoin node"}),"\n",(0,t.jsx)(n.li,{children:"Potentially correlate your node with other online activity"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Why does this matter? If attackers know you're running a Bitcoin node, they might assume you hold significant Bitcoin. If you're running a Lightning node, your channel capacity is publicly visible\u2014giving observers a floor estimate of your holdings. This makes you a potential target for physical attacks."}),"\n",(0,t.jsx)(n.p,{children:"Running your node over Tor hides your IP address from the Bitcoin network. Other nodes see a Tor exit address, not your home connection."}),"\n",(0,t.jsx)(n.h3,{id:"two-types-of-tor-connections",children:"Two Types of Tor Connections"}),"\n",(0,t.jsx)(n.p,{children:"Tor serves two distinct purposes for your node:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"TOR USE CASES\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n1. NODE-TO-NODE (Privacy)\n   \n   Your Node \u2500\u2500\u25ba Tor Network \u2500\u2500\u25ba Other Bitcoin Nodes\n   \n   Hides your IP from the Bitcoin network.\n   Other nodes can't see where you're located.\n\n2. WALLET-TO-NODE (Remote Access)\n   \n   Your Wallet \u2500\u2500\u25ba Tor Network \u2500\u2500\u25ba Your Node's Onion Address\n   \n   Enables access from anywhere in the world.\n   No port forwarding or VPN needed.\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n"})}),"\n",(0,t.jsx)(n.h2,{id:"connection-1-node-to-bitcoin-network",children:"Connection 1: Node to Bitcoin Network"}),"\n",(0,t.jsxs)(n.p,{children:["This is about ",(0,t.jsx)(n.strong,{children:"privacy"}),". By routing your node's connections through Tor, you prevent other Bitcoin nodes from learning your real IP address."]}),"\n",(0,t.jsx)(n.h3,{id:"what-it-protects-against",children:"What It Protects Against"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Network observers learning you run a Bitcoin node"}),"\n",(0,t.jsx)(n.li,{children:"Geographic identification of your node"}),"\n",(0,t.jsx)(n.li,{children:"Correlation of your node with other internet activity"}),"\n",(0,t.jsx)(n.li,{children:"ISP logging of your Bitcoin network connections"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Most node software can be configured to connect to peers exclusively over Tor. In Parmanode, Tor support is built into the menus\u2014enable it from the appropriate option."}),"\n",(0,t.jsx)(n.p,{children:"Bitcoin Core's relevant settings:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"proxy=127.0.0.1:9050\nlisten=1\nbind=127.0.0.1\nonlynet=onion\n"})}),"\n",(0,t.jsx)(n.p,{children:"These settings tell Bitcoin Core to route all connections through Tor and only connect to other Tor-enabled nodes."}),"\n",(0,t.jsx)(n.h2,{id:"connection-2-your-wallet-to-your-node",children:"Connection 2: Your Wallet to Your Node"}),"\n",(0,t.jsxs)(n.p,{children:["This is about ",(0,t.jsx)(n.strong,{children:"remote access"}),". When you're home, your wallet connects to your node over your local network\u2014completely private, no Tor needed. But what happens when you're away from home?"]}),"\n",(0,t.jsxs)(n.p,{children:["Your node has an internal IP address (like ",(0,t.jsx)(n.code,{children:"192.168.1.100"}),") that only exists on your home network. When you're at a coffee shop or traveling, that address doesn't work\u2014you're on a different network."]}),"\n",(0,t.jsx)(n.h3,{id:"the-problem-with-traditional-solutions",children:"The Problem with Traditional Solutions"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Port forwarding"})," exposes your node to the entire internet. Anyone can attempt to connect, and your home IP address is visible."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"VPN to home"})," works but requires setup and monthly costs."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Tor hidden service"})," solves this elegantly. Your node publishes an onion address that's accessible from anywhere in the world, through the Tor network, without exposing your home IP."]}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsxs)(n.p,{children:["Your node creates a Tor hidden service\u2014an ",(0,t.jsx)(n.code,{children:".onion"})," address that routes through the Tor network to reach your node. Your wallet connects to this onion address from anywhere:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Remote Access via Tor\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nYou (traveling)              Home Network\n      \u2502                           \u2502\n      \u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502                    \u2502  Your Node   \u2502\n      \u2502                    \u2502  (electrum   \u2502\n      \u25bc                    \u2502   server)    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u25b2\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502  Wallet   \u2502                     \u2502\n\u2502 (phone or \u2502                     \u2502\n\u2502  laptop)  \u2502                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518              Tor Hidden Service\n      \u2502                    abc123xyz.onion\n      \u2502                           \u25b2\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u25ba Tor Network \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n"})}),"\n",(0,t.jsx)(n.p,{children:"The connection is encrypted, your home IP is never exposed, and no port forwarding is required."}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-tor",children:"Setting Up Tor"}),"\n",(0,t.jsx)(n.h3,{id:"with-parmanode",children:"With Parmanode"}),"\n",(0,t.jsx)(n.p,{children:"Parmanode can install and configure Tor for you. From the Other Install menu, look for Tor-related options. Once installed, Parmanode will display your onion addresses for both Bitcoin Core and your Electrum server."}),"\n",(0,t.jsx)(n.h3,{id:"tor-connection-details",children:"Tor Connection Details"}),"\n",(0,t.jsx)(n.p,{children:"Your Electrum server (Fulcrum or electrs) will have its own onion address, shown in its status menu:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"TOR:  abc123...xyz.onion:50001\n"})}),"\n",(0,t.jsx)(n.p,{children:"Enter this address in your wallet's server settings to connect from anywhere."}),"\n",(0,t.jsx)(n.h2,{id:"sharing-your-node",children:"Sharing Your Node"}),"\n",(0,t.jsx)(n.p,{children:"One benefit of Tor access: you can share your node with friends and family. Give them your Electrum server's onion address, and they can connect their wallets to your node from anywhere in the world."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"A word of caution:"})," Each connected wallet adds load to your node. A Raspberry Pi can handle a few simultaneous connections, but don't share your address publicly unless you have robust hardware."]}),"\n",(0,t.jsx)(n.h2,{id:"privacy-tradeoffs",children:"Privacy Tradeoffs"}),"\n",(0,t.jsx)(n.p,{children:"Running over Tor adds latency. Connections are slower because traffic routes through multiple relays. For most node operations, this is acceptable. For time-sensitive applications (like running a routing Lightning node), the latency might matter."}),"\n",(0,t.jsx)(n.p,{children:'You can also run in "hybrid" mode\u2014connecting to both Tor and clearnet peers. This improves connectivity but reduces privacy, as clearnet connections expose your IP.'}),"\n",(0,t.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Node-to-network Tor"})," hides your IP from other Bitcoin nodes (privacy)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Wallet-to-node Tor"})," enables remote access without port forwarding (convenience)"]}),"\n",(0,t.jsxs)(n.li,{children:["Your node's ",(0,t.jsx)(n.strong,{children:"onion address"})," lets you connect from anywhere in the world"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Parmanode"})," can install and configure Tor for you"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Share with caution"}),"\u2014too many connections can overload small hardware"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.p,{children:["\u2192 ",(0,t.jsx)(n.strong,{children:"Next:"})," ",(0,t.jsx)(n.a,{href:"/docs/bitcoin-node/connect-sparrow-wallet",children:"Connect Sparrow Wallet"})," \u2014 Link your wallet"]}),"\n",(0,t.jsxs)(n.p,{children:["\u2192 ",(0,t.jsx)(n.strong,{children:"Back:"})," ",(0,t.jsx)(n.a,{href:"/docs/bitcoin-node/electrum-server",children:"Electrum Server"})," \u2014 Understanding the indexer"]}),"\n",(0,t.jsxs)(n.p,{children:["\u2192 ",(0,t.jsx)(n.strong,{children:"Start:"})," ",(0,t.jsx)(n.a,{href:"/docs/bitcoin-node/parmanode-setup",children:"Parmanode Setup"})," \u2014 Full installation guide"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453(e,n,o){o.d(n,{R:()=>s,x:()=>d});var r=o(6540);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);