"use strict";(globalThis.webpackChunkmy_personal_website=globalThis.webpackChunkmy_personal_website||[]).push([[7960],{28453(e,n,r){r.d(n,{R:()=>o,x:()=>l});var s=r(96540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},31739(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"bitcoin-node/electrum-server","title":"Electrum Server Explained","description":"Understand Electrum servers (Electrs, Fulcrum): what they do, why you need one, and how to choose between options for your Bitcoin node setup.","source":"@site/docs/bitcoin-node/electrum-server.md","sourceDirName":"bitcoin-node","slug":"/bitcoin-node/electrum-server","permalink":"/docs/bitcoin-node/electrum-server","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"bitcoin node","permalink":"/docs/tags/bitcoin-node"},{"inline":true,"label":"electrum","permalink":"/docs/tags/electrum"},{"inline":true,"label":"setup","permalink":"/docs/tags/setup"},{"inline":true,"label":"self custody","permalink":"/docs/tags/self-custody"}],"version":"current","lastUpdatedAt":1768437204000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Electrum Server Explained","description":"Understand Electrum servers (Electrs, Fulcrum): what they do, why you need one, and how to choose between options for your Bitcoin node setup.","keywords":["electrum server","electrs","fulcrum","bitcoin node","sparrow wallet","indexing","self custody"],"tags":["bitcoin node","electrum","setup","self custody"]},"sidebar":"tutorialBitcoinNode","previous":{"title":"Node Software Options","permalink":"/docs/bitcoin-node/node-software-options"},"next":{"title":"Tor Configuration for Bitcoin Nodes","permalink":"/docs/bitcoin-node/tor"}}');var i=r(74848),t=r(28453);const o={sidebar_position:4,title:"Electrum Server Explained",description:"Understand Electrum servers (Electrs, Fulcrum): what they do, why you need one, and how to choose between options for your Bitcoin node setup.",keywords:["electrum server","electrs","fulcrum","bitcoin node","sparrow wallet","indexing","self custody"],tags:["bitcoin node","electrum","setup","self custody"]},l="Electrum Server Explained",c={},d=[{value:"What an Electrum Server Does",id:"what-an-electrum-server-does",level:2},{value:"Why You Need One",id:"why-you-need-one",level:2},{value:"Electrum Server Options",id:"electrum-server-options",level:2},{value:"Fulcrum (Recommended)",id:"fulcrum-recommended",level:3},{value:"electrs",id:"electrs",level:3},{value:"ElectrumX",id:"electrumx",level:3},{value:"The Indexing Process",id:"the-indexing-process",level:2},{value:"Security and Privacy Benefits",id:"security-and-privacy-benefits",level:2},{value:"Connection Information",id:"connection-information",level:2},{value:"Storage Requirements",id:"storage-requirements",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Connection refused&quot; when connecting wallet",id:"connection-refused-when-connecting-wallet",level:3},{value:"Indexing seems stuck",id:"indexing-seems-stuck",level:3},{value:"High CPU usage during indexing",id:"high-cpu-usage-during-indexing",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"electrum-server-explained",children:"Electrum Server Explained"})}),"\n",(0,i.jsx)(n.p,{children:"You've got Bitcoin Core running, syncing hundreds of gigabytes of blockchain data. But here's the problem: when Sparrow Wallet asks \"what's my balance?\", Bitcoin Core can't answer quickly. It would need to scan the entire blockchain looking for transactions involving your addresses\u2014a process that could take hours."}),"\n",(0,i.jsx)(n.p,{children:"This is where an Electrum server comes in. It creates an index of the blockchain data, organizing everything by address. When your wallet asks about a specific address, the Electrum server can answer in milliseconds instead of hours."}),"\n",(0,i.jsx)(n.p,{children:"Think of it like the difference between reading every page of a 600-gigabyte book versus checking the index at the back."}),"\n",(0,i.jsx)(n.h2,{id:"what-an-electrum-server-does",children:"What an Electrum Server Does"}),"\n",(0,i.jsx)(n.p,{children:"An Electrum server sits between Bitcoin Core and your wallet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'QUERY FLOW\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nSparrow Wallet                     Bitcoin Core\n     \u2502                                  \u2502\n     \u2502  "Balance for                    \u2502\n     \u2502   address bc1q...?"              \u2502\n     \u2502                                  \u2502\n     \u25bc                                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502\n\u2502 Electrum Server \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502   (Index)       \u2502     Reads blockchain\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2502  "0.5 BTC"\n         \u2502  (instant response)\n         \u25bc\n   Sparrow Wallet\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n'})}),"\n",(0,i.jsx)(n.p,{children:"The server indexes all addresses and transactions, building a database that can answer wallet queries efficiently. Your wallet never talks directly to Bitcoin Core\u2014it talks to the Electrum server, which has already organized all the data for fast retrieval."}),"\n",(0,i.jsx)(n.h2,{id:"why-you-need-one",children:"Why You Need One"}),"\n",(0,i.jsx)(n.p,{children:"Without an Electrum server, you have limited options for connecting your wallet to your node:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Option 1: Let your wallet scan the blockchain directly"}),(0,i.jsx)(n.br,{}),"\n","This works but is slow. Every time you open your wallet, it needs to catch up by scanning recent blocks. Some wallets support this; many don't."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Option 2: Use a public Electrum server"}),(0,i.jsx)(n.br,{}),"\n","Fast, but defeats the purpose of running your own node. The public server sees all your addresses and can track your activity."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Option 3: Run your own Electrum server"}),(0,i.jsx)(n.br,{}),"\n","Best of both worlds. Fast queries, complete privacy. This is what we recommend."]}),"\n",(0,i.jsx)(n.h2,{id:"electrum-server-options",children:"Electrum Server Options"}),"\n",(0,i.jsx)(n.p,{children:"Several implementations exist, each with tradeoffs:"}),"\n",(0,i.jsx)("div",{class:"fixed-width-table",children:(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Server"}),(0,i.jsx)(n.th,{children:"Language"}),(0,i.jsx)(n.th,{children:"RAM Usage"}),(0,i.jsx)(n.th,{children:"Index Time"}),(0,i.jsx)(n.th,{children:"Best For"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Fulcrum"})}),(0,i.jsx)(n.td,{children:"C++"}),(0,i.jsx)(n.td,{children:"4+ GB"}),(0,i.jsx)(n.td,{children:"Faster"}),(0,i.jsx)(n.td,{children:"Most users"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"electrs"})}),(0,i.jsx)(n.td,{children:"Rust"}),(0,i.jsx)(n.td,{children:"2+ GB"}),(0,i.jsx)(n.td,{children:"Slower"}),(0,i.jsx)(n.td,{children:"Limited RAM"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"ElectrumX"})}),(0,i.jsx)(n.td,{children:"Python"}),(0,i.jsx)(n.td,{children:"8+ GB"}),(0,i.jsx)(n.td,{children:"Varies"}),(0,i.jsx)(n.td,{children:"Legacy setups"})]})]})]})}),"\n",(0,i.jsx)(n.h3,{id:"fulcrum-recommended",children:"Fulcrum (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"Fulcrum is written in C++ and is the fastest option. Once indexed, queries are lightning fast. The tradeoff is higher RAM usage\u2014you'll want at least 4 GB available, ideally 8 GB."}),"\n",(0,i.jsxs)(n.p,{children:["If you're running Parmanode, install Fulcrum by typing ",(0,i.jsx)(n.code,{children:"f"})," in the Node Install menu."]}),"\n",(0,i.jsx)(n.h3,{id:"electrs",children:"electrs"}),"\n",(0,i.jsx)(n.p,{children:"electrs (lowercase) is written in Rust and uses less RAM than Fulcrum. It's a good choice for Raspberry Pi 4 with only 4 GB of RAM. The indexing process is slower, but once complete, it works well."}),"\n",(0,i.jsxs)(n.p,{children:["In Parmanode, type ",(0,i.jsx)(n.code,{children:"ersd"})," for the Docker version of electrs."]}),"\n",(0,i.jsx)(n.h3,{id:"electrumx",children:"ElectrumX"}),"\n",(0,i.jsx)(n.p,{children:"The original Python implementation. Still works but generally not recommended for new setups\u2014the alternatives are faster and more efficient."}),"\n",(0,i.jsx)(n.h2,{id:"the-indexing-process",children:"The Indexing Process"}),"\n",(0,i.jsxs)(n.p,{children:["After Bitcoin Core finishes syncing, your Electrum server needs to build its index. This is a one-time process that takes ",(0,i.jsx)(n.strong,{children:"12-48 hours"})," depending on your hardware."]}),"\n",(0,i.jsx)(n.p,{children:"During indexing:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The server reads the entire blockchain from Bitcoin Core"}),"\n",(0,i.jsx)(n.li,{children:"It builds a database mapping addresses to transactions"}),"\n",(0,i.jsx)(n.li,{children:"CPU and disk usage will be high"}),"\n",(0,i.jsx)(n.li,{children:"Your wallet won't connect until indexing completes"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Be patient."})," Just like the Bitcoin Core sync, this only happens once. After the initial index is built, the server stays current automatically."]}),"\n",(0,i.jsx)(n.h2,{id:"security-and-privacy-benefits",children:"Security and Privacy Benefits"}),"\n",(0,i.jsx)(n.p,{children:"Running your own Electrum server provides significant advantages:"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Privacy:"})," Your wallet queries never leave your network. Public Electrum servers see every address you check and every transaction you broadcast. Your own server keeps that information private."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Verification:"})," Data comes directly from your own Bitcoin Core instance, which has verified every block against Bitcoin's rules. You're not trusting a third party to tell you the truth."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reliability:"})," Public servers can go offline, be slow, or be shut down. Your own server is always available (when your computer is running)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"No Logging:"})," Public servers could be logging your activity. Your own server logs only what you configure it to log."]}),"\n",(0,i.jsx)(n.h2,{id:"connection-information",children:"Connection Information"}),"\n",(0,i.jsx)(n.p,{children:"Once your Electrum server is running, you'll need connection details for your wallet. If you installed through Parmanode, this information is displayed in the server's menu:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"CONNECT:    127.0.0.1:50001   [From this computer only]\n            127.0.0.1:50002:s [From this computer only - SSL]\n            192.168.0.170:50001 [From any home network computer]\n\nTOR:        [onion address for remote access]\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Port 50001"})," \u2014 Standard Electrum protocol (unencrypted, fine for local network)",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Port 50002"})," \u2014 SSL-encrypted connection",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Tor address"})," \u2014 For connecting from outside your home network privately"]}),"\n",(0,i.jsx)(n.p,{children:"If you installed your wallet through Parmanode, it will already be configured\u2014no manual setup needed."}),"\n",(0,i.jsx)(n.h2,{id:"storage-requirements",children:"Storage Requirements"}),"\n",(0,i.jsx)(n.p,{children:"Your Electrum server index adds storage beyond Bitcoin Core's blockchain:"}),"\n",(0,i.jsx)("div",{class:"fixed-width-table",children:(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Server"}),(0,i.jsx)(n.th,{children:"Approximate Index Size"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Fulcrum"})}),(0,i.jsx)(n.td,{children:"100-130 GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"electrs"})}),(0,i.jsx)(n.td,{children:"30-50 GB"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"ElectrumX"})}),(0,i.jsx)(n.td,{children:"50-70 GB"})]})]})]})}),"\n",(0,i.jsxs)(n.p,{children:["Plan for ",(0,i.jsx)(n.strong,{children:"at least 1.5 TB total"})," for Bitcoin Core plus Fulcrum, or ",(0,i.jsx)(n.strong,{children:"1.2 TB"})," for Bitcoin Core plus electrs."]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"connection-refused-when-connecting-wallet",children:'"Connection refused" when connecting wallet'}),"\n",(0,i.jsx)(n.p,{children:"The Electrum server might still be indexing, or it might not be running."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Check if Bitcoin Core is fully synced first"}),"\n",(0,i.jsx)(n.li,{children:"Verify the Electrum server is running (check the menu in Parmanode)"}),"\n",(0,i.jsx)(n.li,{children:"Ensure you're using the correct port (50001 or 50002)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"indexing-seems-stuck",children:"Indexing seems stuck"}),"\n",(0,i.jsx)(n.p,{children:"Initial indexing takes 12-48 hours. It's not stuck\u2014it's just slow. Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Is there disk activity? (indicates the server is working)"}),"\n",(0,i.jsx)(n.li,{children:"How much RAM is available? (low RAM slows indexing significantly)"}),"\n",(0,i.jsx)(n.li,{children:"Is Bitcoin Core fully synced? (the Electrum server waits for Core)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"high-cpu-usage-during-indexing",children:"High CPU usage during indexing"}),"\n",(0,i.jsx)(n.p,{children:"This is normal. Once the initial index is complete, CPU usage drops dramatically. The server only needs to index new blocks as they arrive (every ~10 minutes)."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["An Electrum server ",(0,i.jsx)(n.strong,{children:"indexes the blockchain"})," for fast wallet queries"]}),"\n",(0,i.jsxs)(n.li,{children:["Without one, your wallet would need to ",(0,i.jsx)(n.strong,{children:"scan the entire blockchain"})," (slow)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fulcrum"})," is fastest, ",(0,i.jsx)(n.strong,{children:"electrs"})," uses less RAM"]}),"\n",(0,i.jsxs)(n.li,{children:["Initial indexing takes ",(0,i.jsx)(n.strong,{children:"12-48 hours"})," (one-time)"]}),"\n",(0,i.jsxs)(n.li,{children:["Parmanode ",(0,i.jsx)(n.strong,{children:"auto-configures"})," wallets to use your server"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.p,{children:["\u2192 ",(0,i.jsx)(n.strong,{children:"Next:"})," ",(0,i.jsx)(n.a,{href:"/docs/bitcoin-node/tor",children:"Tor Configuration"})," \u2014 Add network privacy"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2192 ",(0,i.jsx)(n.strong,{children:"Connect:"})," ",(0,i.jsx)(n.a,{href:"/docs/bitcoin-node/connect-sparrow-wallet",children:"Connect Sparrow Wallet"})," \u2014 Manual wallet connection"]}),"\n",(0,i.jsxs)(n.p,{children:["\u2192 ",(0,i.jsx)(n.strong,{children:"Back:"})," ",(0,i.jsx)(n.a,{href:"/docs/bitcoin-node/parmanode-setup",children:"Parmanode Setup"})," \u2014 Installation guide"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);