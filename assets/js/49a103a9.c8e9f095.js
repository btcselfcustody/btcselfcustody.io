"use strict";(globalThis.webpackChunkmy_personal_website=globalThis.webpackChunkmy_personal_website||[]).push([[2181],{2807(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"utxo-management/consolidation","title":"Consolidation Strategies","description":"Learn when and how to consolidate Bitcoin UTXOs. Optimize fees during low-fee periods while maintaining privacy.","source":"@site/docs/utxo-management/consolidation.md","sourceDirName":"utxo-management","slug":"/utxo-management/consolidation","permalink":"/docs/utxo-management/consolidation","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"utxo","permalink":"/docs/tags/utxo"},{"inline":true,"label":"consolidation","permalink":"/docs/tags/consolidation"},{"inline":true,"label":"fees","permalink":"/docs/tags/fees"},{"inline":true,"label":"bitcoin","permalink":"/docs/tags/bitcoin"}],"version":"current","lastUpdatedAt":1768362340000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Consolidation Strategies","description":"Learn when and how to consolidate Bitcoin UTXOs. Optimize fees during low-fee periods while maintaining privacy.","keywords":["bitcoin","utxo","consolidation","fees","privacy","mempool"],"tags":["utxo","consolidation","fees","bitcoin"]},"sidebar":"tutorialUtxoManagement","previous":{"title":"Coin Control","permalink":"/docs/utxo-management/coin-control"}}');var t=i(4848),o=i(8453);const l={sidebar_position:3,title:"Consolidation Strategies",description:"Learn when and how to consolidate Bitcoin UTXOs. Optimize fees during low-fee periods while maintaining privacy.",keywords:["bitcoin","utxo","consolidation","fees","privacy","mempool"],tags:["utxo","consolidation","fees","bitcoin"]},r="UTXO Consolidation Strategies",a={},d=[{value:"When to Consolidate",id:"when-to-consolidate",level:2},{value:"Check the Fee Environment",id:"check-the-fee-environment",level:3},{value:"Signs You Need Consolidation",id:"signs-you-need-consolidation",level:3},{value:"The Privacy-Preserving Consolidation Rule",id:"the-privacy-preserving-consolidation-rule",level:2},{value:"Why This Matters",id:"why-this-matters",level:3},{value:"Step-by-Step Consolidation",id:"step-by-step-consolidation",level:2},{value:"Step 1: Sort Your UTXOs by Source",id:"step-1-sort-your-utxos-by-source",level:3},{value:"Step 2: Plan Each Consolidation Separately",id:"step-2-plan-each-consolidation-separately",level:3},{value:"Step 3: Execute During Low Fees",id:"step-3-execute-during-low-fees",level:3},{value:"Step 4: Verify and Label",id:"step-4-verify-and-label",level:3},{value:"Consolidation Math: Is It Worth It?",id:"consolidation-math-is-it-worth-it",level:2},{value:"The Calculation",id:"the-calculation",level:3},{value:"When NOT to Consolidate",id:"when-not-to-consolidate",level:3},{value:"Target UTXO Sizes",id:"target-utxo-sizes",level:2},{value:"Example Target Portfolio",id:"example-target-portfolio",level:3},{value:"Advanced: Consolidation for Different Wallet Types",id:"advanced-consolidation-for-different-wallet-types",level:2},{value:"Single-Signature Wallets",id:"single-signature-wallets",level:3},{value:"Multi-Signature Wallets (2-of-3)",id:"multi-signature-wallets-2-of-3",level:3},{value:"Hardware Wallet Considerations",id:"hardware-wallet-considerations",level:3},{value:"Timing Your Consolidation",id:"timing-your-consolidation",level:2},{value:"Best Times to Consolidate",id:"best-times-to-consolidate",level:3},{value:"Worst Times to Consolidate",id:"worst-times-to-consolidate",level:3},{value:"Consolidation Checklist",id:"consolidation-checklist",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"utxo-consolidation-strategies",children:"UTXO Consolidation Strategies"})}),"\n",(0,t.jsx)(n.p,{children:"Consolidation is combining multiple UTXOs into fewer, larger ones. Done correctly, it reduces future transaction costs. Done incorrectly, it destroys privacy."}),"\n",(0,t.jsx)(n.h2,{id:"when-to-consolidate",children:"When to Consolidate"}),"\n",(0,t.jsx)(n.h3,{id:"check-the-fee-environment",children:"Check the Fee Environment"}),"\n",(0,t.jsxs)(n.p,{children:["Before consolidating, check current fee rates at ",(0,t.jsx)(n.a,{href:"https://mempool.space",children:"mempool.space"}),":"]}),"\n",(0,t.jsx)("div",{class:"fixed-width-table",children:(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Fee Rate"}),(0,t.jsx)(n.th,{children:"Recommendation"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"1-10 sat/vB"})}),(0,t.jsx)(n.td,{children:"\ud83d\udfe2 Excellent time to consolidate"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"10-30 sat/vB"})}),(0,t.jsx)(n.td,{children:"\ud83d\udfe1 Good, proceed if needed"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"30-100 sat/vB"})}),(0,t.jsx)(n.td,{children:"\ud83d\udfe0 Wait if possible"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"100+ sat/vB"})}),(0,t.jsx)(n.td,{children:"\ud83d\udd34 Do not consolidate"})]})]})]})}),"\n",(0,t.jsx)(n.h3,{id:"signs-you-need-consolidation",children:"Signs You Need Consolidation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You have many UTXOs under 0.01 BTC"}),"\n",(0,t.jsx)(n.li,{children:"Your last transaction used 5+ inputs"}),"\n",(0,t.jsx)(n.li,{children:"You're paying high fees for simple sends"}),"\n",(0,t.jsx)(n.li,{children:"You've been dollar-cost averaging in small amounts"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"the-privacy-preserving-consolidation-rule",children:"The Privacy-Preserving Consolidation Rule"}),"\n",(0,t.jsxs)(n.admonition,{title:"Critical Rule",type:"danger",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Only consolidate UTXOs from the SAME source."})}),(0,t.jsx)(n.p,{children:"Never combine:"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"KYC with non-KYC"}),"\n",(0,t.jsx)(n.li,{children:"Different exchanges"}),"\n",(0,t.jsx)(n.li,{children:"Mixed with unmixed"}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"why-this-matters",children:"Why This Matters"}),"\n",(0,t.jsx)(n.p,{children:'When you consolidate, you create an on-chain record that says "all these UTXOs belong to the same person":'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"CONSOLIDATION:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n0.01 BTC (from Coinbase)     \u2500\u2510\n0.02 BTC (from Coinbase)     \u2500\u253c\u2500\u2192 0.06 BTC (to yourself)\n0.03 BTC (from Coinbase)     \u2500\u2518\n\n\u2705 Good: All from same source, already linked to same identity\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"BAD CONSOLIDATION:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n0.01 BTC (from Coinbase)     \u2500\u2510\n0.02 BTC (from Kraken)       \u2500\u253c\u2500\u2192 0.06 BTC (to yourself)  \n0.03 BTC (non-KYC trade)     \u2500\u2518\n\n\u274c Bad: Now Coinbase, Kraken, and your non-KYC \n       coins are all linked together forever!\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-by-step-consolidation",children:"Step-by-Step Consolidation"}),"\n",(0,t.jsx)(n.h3,{id:"step-1-sort-your-utxos-by-source",children:"Step 1: Sort Your UTXOs by Source"}),"\n",(0,t.jsx)(n.p,{children:"Open your wallet's UTXO view and categorize:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"COINBASE UTXOs:        KRAKEN UTXOs:         NON-KYC UTXOs:\n- 0.005 BTC            - 0.008 BTC           - 0.05 BTC\n- 0.003 BTC            - 0.012 BTC           - 0.02 BTC\n- 0.007 BTC            - 0.004 BTC\n- 0.002 BTC\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-2-plan-each-consolidation-separately",children:"Step 2: Plan Each Consolidation Separately"}),"\n",(0,t.jsx)(n.p,{children:"Each source gets its own consolidation transaction:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Transaction 1: Coinbase UTXOs\n  0.005 + 0.003 + 0.007 + 0.002 \u2192 0.017 BTC (minus fee)\n\nTransaction 2: Kraken UTXOs\n  0.008 + 0.012 + 0.004 \u2192 0.024 BTC (minus fee)\n\nTransaction 3: Non-KYC UTXOs\n  0.05 + 0.02 \u2192 0.07 BTC (minus fee)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"step-3-execute-during-low-fees",children:"Step 3: Execute During Low Fees"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Wait for fees to drop below 15 sat/vB"}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.a,{href:"/docs/utxo-management/coin-control",children:"coin control"})," to select only same-source UTXOs"]}),"\n",(0,t.jsxs)(n.li,{children:["Send to a ",(0,t.jsx)(n.strong,{children:"new address in your own wallet"})]}),"\n",(0,t.jsx)(n.li,{children:"Set a low fee (since timing isn't critical)"}),"\n",(0,t.jsx)(n.li,{children:"Label the new UTXO with its source"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"step-4-verify-and-label",children:"Step 4: Verify and Label"}),"\n",(0,t.jsx)(n.p,{children:"After confirmation:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Check the new UTXO appears in your wallet"}),"\n",(0,t.jsx)(n.li,{children:'Label it with the source (e.g., "Coinbase consolidated 2024-01")'}),"\n",(0,t.jsx)(n.li,{children:"Verify old UTXOs are gone"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"consolidation-math-is-it-worth-it",children:"Consolidation Math: Is It Worth It?"}),"\n",(0,t.jsx)(n.p,{children:"Before consolidating, calculate if it saves money long-term."}),"\n",(0,t.jsx)(n.h3,{id:"the-calculation",children:"The Calculation"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Cost to consolidate now:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Inputs: 10 UTXOs \xd7 68 vB = 680 vB\nOutputs: 1 \xd7 34 vB = 34 vB\nOverhead: 10 vB\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTotal: ~724 vB\n\nAt 10 sat/vB: 7,240 sats (~$7)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Future cost without consolidation:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"If you spend these 10 UTXOs later at 100 sat/vB:\n724 vB \xd7 100 sat/vB = 72,400 sats (~$72)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Savings: ~65,000 sats ($65)"})}),"\n",(0,t.jsx)(n.h3,{id:"when-not-to-consolidate",children:"When NOT to Consolidate"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Privacy cost is too high"})," \u2014 Don't consolidate different sources"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"UTXOs are already large"})," \u2014 No benefit to combining 0.5 BTC UTXOs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fees are high"})," \u2014 Wait for a better time"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"You're mixing soon"})," \u2014 Let ",(0,t.jsx)(n.a,{href:"/docs/coinjoin",children:"CoinJoin"})," handle it"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"target-utxo-sizes",children:"Target UTXO Sizes"}),"\n",(0,t.jsx)(n.p,{children:"After consolidation, aim for these sizes:"}),"\n",(0,t.jsx)("div",{class:"fixed-width-table",children:(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Purpose"}),(0,t.jsx)(n.th,{children:"Target Size"}),(0,t.jsx)(n.th,{children:"Reasoning"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Long-term holding"}),(0,t.jsx)(n.td,{children:"0.1 - 1.0 BTC"}),(0,t.jsx)(n.td,{children:"Efficient for large future spends"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Regular spending"}),(0,t.jsx)(n.td,{children:"0.01 - 0.1 BTC"}),(0,t.jsx)(n.td,{children:"Flexible without revealing full stack"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Minimum viable"}),(0,t.jsx)(n.td,{children:"0.01 BTC"}),(0,t.jsx)(n.td,{children:"Stays economical in most fee environments"})]})]})]})}),"\n",(0,t.jsx)(n.h3,{id:"example-target-portfolio",children:"Example Target Portfolio"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"After consolidation:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n1 \xd7 0.5 BTC    \u2014 Long-term savings\n3 \xd7 0.1 BTC    \u2014 Medium transactions\n5 \xd7 0.02 BTC   \u2014 Small payments\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTotal: 0.9 BTC in 9 UTXOs (was 47 UTXOs)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"advanced-consolidation-for-different-wallet-types",children:"Advanced: Consolidation for Different Wallet Types"}),"\n",(0,t.jsx)(n.h3,{id:"single-signature-wallets",children:"Single-Signature Wallets"}),"\n",(0,t.jsx)(n.p,{children:"Standard consolidation as described above. Each input costs ~68 vB (SegWit)."}),"\n",(0,t.jsx)(n.h3,{id:"multi-signature-wallets-2-of-3",children:"Multi-Signature Wallets (2-of-3)"}),"\n",(0,t.jsx)(n.p,{children:"Multi-sig inputs are larger (~105 vB for 2-of-3). Consolidation is even more valuable:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"10 UTXOs in 2-of-3 multisig:\n- Without consolidation: 10 \xd7 105 vB = 1,050 vB of inputs\n- After consolidation: 1 \xd7 105 vB = 105 vB of inputs\n- Savings: 945 vB per future transaction\n"})}),"\n",(0,t.jsx)(n.h3,{id:"hardware-wallet-considerations",children:"Hardware Wallet Considerations"}),"\n",(0,t.jsx)(n.p,{children:"When consolidating with hardware wallets:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"You'll need to sign the transaction on the device"}),"\n",(0,t.jsx)(n.li,{children:"Large consolidations (50+ inputs) may take time to sign"}),"\n",(0,t.jsx)(n.li,{children:"Some hardware wallets have limits on inputs per transaction"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"timing-your-consolidation",children:"Timing Your Consolidation"}),"\n",(0,t.jsx)(n.h3,{id:"best-times-to-consolidate",children:"Best Times to Consolidate"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Weekends"})," \u2014 Typically lower fees"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Holidays"})," \u2014 Less trading activity"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"After major fee spikes"})," \u2014 Mempool clears out"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"When mempool is nearly empty"})," \u2014 Check mempool.space"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"worst-times-to-consolidate",children:"Worst Times to Consolidate"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"During market volatility"})," \u2014 High trading = high fees"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"After Bitcoin halving events"})," \u2014 Historical fee spikes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"When mempools show backlog"})," \u2014 Wait for it to clear"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"consolidation-checklist",children:"Consolidation Checklist"}),"\n",(0,t.jsx)(n.p,{children:"Before each consolidation:"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Fees are below 20 sat/vB"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All selected UTXOs are from the SAME source"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I'm sending to a fresh address in my own wallet"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I've calculated the fee savings to confirm it's worthwhile"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I have the new UTXO labeled with its source"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","I'm not in a hurry (can wait for confirmation)"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Related:"})," Learn about ",(0,t.jsx)(n.a,{href:"/docs/utxo-management/coin-control",children:"coin control"})," to properly select UTXOs for consolidation."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>r});var s=i(6540);const t={},o=s.createContext(t);function l(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);