<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-coreboot/internal/flashing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Flashing | BTC Self Custody</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://btcselfcustody.io/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://btcselfcustody.io/img/logo.svg"><meta data-rh="true" property="og:url" content="https://btcselfcustody.io/docs/coreboot/internal/flashing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flashing | BTC Self Custody"><meta data-rh="true" name="description" content="Flashing firmware always carries some risk."><meta data-rh="true" property="og:description" content="Flashing firmware always carries some risk."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://btcselfcustody.io/docs/coreboot/internal/flashing"><link data-rh="true" rel="alternate" href="https://btcselfcustody.io/docs/coreboot/internal/flashing" hreflang="en"><link data-rh="true" rel="alternate" href="https://btcselfcustody.io/docs/coreboot/internal/flashing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Internal Flashing","item":"https://btcselfcustody.io/docs/category/internal-flashing"},{"@type":"ListItem","position":2,"name":"Flashing","item":"https://btcselfcustody.io/docs/coreboot/internal/flashing"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DB4LHSKK4J"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DB4LHSKK4J",{anonymize_ip:!0})</script>




<script src="https://cloud.umami.is/script.js" defer="defer" data-website-id="5649cb57-bc60-498c-a7ff-2d044fc85912"></script><link rel="stylesheet" href="/assets/css/styles.5fa21310.css">
<script src="/assets/js/runtime~main.7bae231f.js" defer="defer"></script>
<script src="/assets/js/main.b3704701.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BTC Self Custody" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="BTC Self Custody" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BTC Self Custody</b></a><a class="navbar__item navbar__link" href="/docs/basics/what-is-self-custody">Basics</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Guides</a><ul class="dropdown__menu"><li><a class="dropdown__link" sidebarid="tutorialSeed" href="/docs/seed">DIY Seed ðŸŽ²</a></li><li><a class="dropdown__link" sidebarid="tutorialPassphrase" href="/docs/passphrase">DIY Passphrase ðŸŽ²</a></li><li><a class="dropdown__link" sidebarid="tutorialLibreboot" href="/docs/libreboot">Libreboot</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" sidebarid="tutorialCoreboot" href="/docs/coreboot">Coreboot</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Bitcoin Devices</a><ul class="dropdown__menu"><li><a class="dropdown__link" sidebarid="tutorialBitcoinNode" href="/docs/bitcoin-node">Bitcoin Node</a></li><li><a class="dropdown__link" sidebarid="tutorialBitcoinComputer" href="/docs/bitcoin-computer">Bitcoin Computer</a></li><li><a class="dropdown__link" sidebarid="tutorialAirgappedComputer" href="/docs/air-gapped-computer">Air-Gapped Computer</a></li><li><a class="dropdown__link" sidebarid="tutorialNostrSigningDevice" href="/docs/nostr-signing-device">Nostr Signing Device</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Education</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/books">Books</a></li><li><a class="dropdown__link" href="/podcasts">Podcasts</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://timechainstats.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">TimechainStats<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://mempool.space.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Mempool<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/bitcoin/bips/blob/master/bip-0039/english.txt" target="_blank" rel="noopener noreferrer" class="dropdown__link">BIP39<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header--github-link" aria-label="GitHub repository"></a><a href="https://orangepill.app.link/btcselfcustody" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header--opa-link" aria-label="Orange Pill App"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot"><span title="Coreboot" class="linkLabel_WmDU">Coreboot</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot/requirements"><span title="Requirements" class="linkLabel_WmDU">Requirements</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot/build"><span title="Build Coreboot" class="linkLabel_WmDU">Build Coreboot</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/internal-flashing"><span title="Internal Flashing" class="categoryLinkLabel_W154">Internal Flashing</span></a><button aria-label="Collapse sidebar category &#x27;Internal Flashing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coreboot/internal/downgrading-bios"><span title="Downgrading BIOS" class="linkLabel_WmDU">Downgrading BIOS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/coreboot/internal/unlocking-bios"><span title="Unlocking BIOS" class="linkLabel_WmDU">Unlocking BIOS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/coreboot/internal/flashing"><span title="Flashing" class="linkLabel_WmDU">Flashing</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot/external-flashing"><span title="External Flashing" class="linkLabel_WmDU">External Flashing</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/internal-flashing"><span>Internal Flashing</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Flashing</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Internal Flashing</h1></header>
<p>Flashing firmware always carries some risk.
If something goes wrong, your device may fail to boot and will require recovery with an external programmer.
Always make a full backup of your current BIOS before attempting to flash Coreboot.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Note that <strong>internal flashing cannot be used to disable Intel ME</strong>, because the ME region is locked and cannot be read or written from the host.
If your goal is to neutralize or disable Intel ME, the only reliable method is to use an <strong>external programmer</strong> to dump, modify, and reflash the entire firmware image (see the External Flashing section).</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="back-up-your-existing-bios-region">Back Up Your Existing BIOS Region<a href="#back-up-your-existing-bios-region" class="hash-link" aria-label="Direct link to Back Up Your Existing BIOS Region" title="Direct link to Back Up Your Existing BIOS Region" translate="no">â€‹</a></h3>
<p>Before doing anything else, make a full backup of your current BIOS.
This is your recovery point if you need to restore the original firmware.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashrom -p internal -r factory.rom --ifd -i bios</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>This does not back up the entire firmware, only the BIOS region. The Intel Management Engine and descriptor regions are excluded, so this is not a full recovery image.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="flash-the-coreboot-bios">Flash the Coreboot BIOS<a href="#flash-the-coreboot-bios" class="hash-link" aria-label="Direct link to Flash the Coreboot BIOS" title="Direct link to Flash the Coreboot BIOS" translate="no">â€‹</a></h3>
<p>Once everything looks correct, flash the prepared Coreboot BIOS region:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashrom -p internal -w coreboot.rom --ifd -i bios -N</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="verify-the-flashed-image">Verify the Flashed Image<a href="#verify-the-flashed-image" class="hash-link" aria-label="Direct link to Verify the Flashed Image" title="Direct link to Verify the Flashed Image" translate="no">â€‹</a></h2>
<p>After flashing, always re-read the chip and compare it against the file you wrote.
This ensures the flash was successful and the chip contains exactly what you intended.</p>
<p>Read back the flashed chip:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashrom -p internal -r flashed.rom --ifd -i bios</span><br></span></code></pre></div></div>
<p>You can now choose among 3 distinct verification methods:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-quick-byte-for-byte-comparison">1. Quick Byte-for-Byte Comparison<a href="#1-quick-byte-for-byte-comparison" class="hash-link" aria-label="Direct link to 1. Quick Byte-for-Byte Comparison" title="Direct link to 1. Quick Byte-for-Byte Comparison" translate="no">â€‹</a></h3>
<p>This method operates at the raw binary level and checks that the flashed BIOS region matches the extracted BIOS region.</p>
<p>Your compiled coreboot.rom contains more than just the BIOS region, so we must extract only the BIOS part to match the layout of the original firmware.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dd if=coreboot.rom of=coreboot_bios.rom bs=1 skip=5242880 count=11534336</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dd if=flashed.rom of=flashed_bios.rom bs=1 skip=5242880 count=11534336</span><br></span></code></pre></div></div>
<p>Here:</p>
<ul>
<li class="">skip=5242880 skips the first 5 MB (non-BIOS regions such as Intel ME).</li>
<li class="">count=11534336 copies the remaining 11 MB, which is the BIOS region.</li>
</ul>
<p>Now perform the check:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cmp -l coreboot_bios.rom flashed_bios.rom | head -n 20</span><br></span></code></pre></div></div>
<p>If no differences appear, the BIOS region was flashed correctly.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-compare-build-information-inside-cbfs">2. Compare Build Information Inside CBFS<a href="#2-compare-build-information-inside-cbfs" class="hash-link" aria-label="Direct link to 2. Compare Build Information Inside CBFS" title="Direct link to 2. Compare Build Information Inside CBFS" translate="no">â€‹</a></h3>
<p>This method operates at the specific metadata level.</p>
<p>Extract the <code>build_info</code> file from each full rom image:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfstool coreboot.rom extract -n build_info -f build_info_expected.rom</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfstool flashed.rom extract -n build_info -f build_info_actual.rom</span><br></span></code></pre></div></div>
<p>Compare them:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">diff -u build_info_expected.rom build_info_actual.rom</span><br></span></code></pre></div></div>
<p>If the output is empty, the <code>build_info</code> files match.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-check-cbfs-contents">3. Check CBFS Contents<a href="#3-check-cbfs-contents" class="hash-link" aria-label="Direct link to 3. Check CBFS Contents" title="Direct link to 3. Check CBFS Contents" translate="no">â€‹</a></h3>
<p>This method operates at the filesystem content level.</p>
<p>Print the CBFS layout of the Coreboot BIOS:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfstool coreboot.rom print</span><br></span></code></pre></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Output</summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FMAP REGION: COREBOOT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Name                           Offset     Type           Size   Comp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfs_master_header             0x0        cbfs header        32 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cpu_microcode_blob.bin         0x80       microcode       26624 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/romstage              0x68c0     stage           92312 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/ramstage              0x1d1c0    stage          120593 LZMA (255636 decompressed)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">config                         0x3a940    raw              3332 LZMA (10602 decompressed)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">revision                       0x3b680    raw               774 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">build_info                     0x3b9c0    raw               105 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/dsdt.aml              0x3ba80    raw             14537 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vbt.bin                        0x3f380    raw              1409 LZMA (4459 decompressed)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cmos_layout.bin                0x3f940    cmos_layout      2060 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/postcar               0x40180    stage           23488 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/payload               0x45dc0    simple elf     473556 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(empty)                        0xb97c0    null           202212 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bootblock                      0xeadc0    bootblock       20480 none</span><br></span></code></pre></div></div><p></p></div></div></details>
<p>Print the CBFS layout of the Flashed BIOS:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfstool flashed.rom print</span><br></span></code></pre></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Output</summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">FMAP REGION: COREBOOT</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Name                           Offset     Type           Size   Comp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfs_master_header             0x0        cbfs header        32 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cpu_microcode_blob.bin         0x80       microcode       26624 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/romstage              0x68c0     stage           92312 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/ramstage              0x1d1c0    stage          120593 LZMA (255636 decompressed)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">config                         0x3a940    raw              3332 LZMA (10602 decompressed)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">revision                       0x3b680    raw               774 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">build_info                     0x3b9c0    raw               105 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/dsdt.aml              0x3ba80    raw             14537 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">vbt.bin                        0x3f380    raw              1409 LZMA (4459 decompressed)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cmos_layout.bin                0x3f940    cmos_layout      2060 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/postcar               0x40180    stage           23488 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fallback/payload               0x45dc0    simple elf     473556 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">(empty)                        0xb97c0    null           202212 none</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bootblock                      0xeadc0    bootblock       20480 none</span><br></span></code></pre></div></div><p></p></div></div></details>
<p>Compare it with the intended Coreboot image:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfstool coreboot.rom print &gt; cbfs_expected.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cbfstool flashed.rom print &gt; cbfs_actual.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">diff -u cbfs_expected.txt cbfs_actual.txt</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">â€‹</a></h3>
<p>If all comparisons match, your new Coreboot firmware has been flashed correctly and is ready to boot.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/coreboot">coreboot</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/chipsec">chipsec</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/bios">bios</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/internal">internal</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/flashing">flashing</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/coreboot/internal/unlocking-bios"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unlocking BIOS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/coreboot/external-flashing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">External Flashing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#back-up-your-existing-bios-region" class="table-of-contents__link toc-highlight">Back Up Your Existing BIOS Region</a></li><li><a href="#flash-the-coreboot-bios" class="table-of-contents__link toc-highlight">Flash the Coreboot BIOS</a></li><li><a href="#verify-the-flashed-image" class="table-of-contents__link toc-highlight">Verify the Flashed Image</a><ul><li><a href="#1-quick-byte-for-byte-comparison" class="table-of-contents__link toc-highlight">1. Quick Byte-for-Byte Comparison</a></li><li><a href="#2-compare-build-information-inside-cbfs" class="table-of-contents__link toc-highlight">2. Compare Build Information Inside CBFS</a></li><li><a href="#3-check-cbfs-contents" class="table-of-contents__link toc-highlight">3. Check CBFS Contents</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Guides</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/seed">DIY Seed</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/libreboot">Libreboot</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/bitcoin-node">Bitcoin Node</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Devices</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/bitcoin-computer">Bitcoin computer</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/air-gapped-computer">Air-gapped computer</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nostr-signing-device">Nostr Signing Device</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Find Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://keybase.io/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://orangepill.app.link/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">Orange Pill App<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 BTC Self Custody. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>