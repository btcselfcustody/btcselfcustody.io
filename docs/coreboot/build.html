<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-coreboot/build" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Build Coreboot | BTC Self Custody</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://btcselfcustody.io/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://btcselfcustody.io/img/logo.svg"><meta data-rh="true" property="og:url" content="https://btcselfcustody.io/docs/coreboot/build"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Build Coreboot | BTC Self Custody"><meta data-rh="true" name="description" content="Now we will walk through building Coreboot from scratch. We will first install the required tools, then download Coreboot’s source code, build its toolchain, configure it for your mainboard, and finally compile it into a ROM file you can flash."><meta data-rh="true" property="og:description" content="Now we will walk through building Coreboot from scratch. We will first install the required tools, then download Coreboot’s source code, build its toolchain, configure it for your mainboard, and finally compile it into a ROM file you can flash."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://btcselfcustody.io/docs/coreboot/build"><link data-rh="true" rel="alternate" href="https://btcselfcustody.io/docs/coreboot/build" hreflang="en"><link data-rh="true" rel="alternate" href="https://btcselfcustody.io/docs/coreboot/build" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Build Coreboot","item":"https://btcselfcustody.io/docs/coreboot/build/"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DB4LHSKK4J"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DB4LHSKK4J",{anonymize_ip:!0})</script>




<script src="https://cloud.umami.is/script.js" defer="defer" data-website-id="5649cb57-bc60-498c-a7ff-2d044fc85912"></script><link rel="stylesheet" href="/assets/css/styles.5fa21310.css">
<script src="/assets/js/runtime~main.7bae231f.js" defer="defer"></script>
<script src="/assets/js/main.b3704701.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BTC Self Custody" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="BTC Self Custody" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BTC Self Custody</b></a><a class="navbar__item navbar__link" href="/docs/basics/what-is-self-custody">Basics</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Guides</a><ul class="dropdown__menu"><li><a class="dropdown__link" sidebarid="tutorialSeed" href="/docs/seed">DIY Seed 🎲</a></li><li><a class="dropdown__link" sidebarid="tutorialPassphrase" href="/docs/passphrase">DIY Passphrase 🎲</a></li><li><a class="dropdown__link" sidebarid="tutorialLibreboot" href="/docs/libreboot">Libreboot</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" sidebarid="tutorialCoreboot" href="/docs/coreboot">Coreboot</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Bitcoin Devices</a><ul class="dropdown__menu"><li><a class="dropdown__link" sidebarid="tutorialBitcoinNode" href="/docs/bitcoin-node">Bitcoin Node</a></li><li><a class="dropdown__link" sidebarid="tutorialBitcoinComputer" href="/docs/bitcoin-computer">Bitcoin Computer</a></li><li><a class="dropdown__link" sidebarid="tutorialAirgappedComputer" href="/docs/air-gapped-computer">Air-Gapped Computer</a></li><li><a class="dropdown__link" sidebarid="tutorialNostrSigningDevice" href="/docs/nostr-signing-device">Nostr Signing Device</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Education</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/books">Books</a></li><li><a class="dropdown__link" href="/podcasts">Podcasts</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://timechainstats.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">TimechainStats<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://mempool.space.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Mempool<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/bitcoin/bips/blob/master/bip-0039/english.txt" target="_blank" rel="noopener noreferrer" class="dropdown__link">BIP39<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header--github-link" aria-label="GitHub repository"></a><a href="https://orangepill.app.link/btcselfcustody" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header--opa-link" aria-label="Orange Pill App"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot"><span title="Coreboot" class="linkLabel_WmDU">Coreboot</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot/requirements"><span title="Requirements" class="linkLabel_WmDU">Requirements</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/coreboot/build"><span title="Build Coreboot" class="linkLabel_WmDU">Build Coreboot</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/internal-flashing"><span title="Internal Flashing" class="categoryLinkLabel_W154">Internal Flashing</span></a><button aria-label="Expand sidebar category &#x27;Internal Flashing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/coreboot/external-flashing"><span title="External Flashing" class="linkLabel_WmDU">External Flashing</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Build Coreboot</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Build Coreboot</h1></header>
<p>Now we will walk through building Coreboot from scratch. We will first install the required tools, then download Coreboot’s source code, build its toolchain, configure it for your mainboard, and finally compile it into a ROM file you can flash.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-1-install-tools-and-libraries-needed-for-coreboot">Step 1: Install tools and libraries needed for coreboot<a href="#step-1-install-tools-and-libraries-needed-for-coreboot" class="hash-link" aria-label="Direct link to Step 1: Install tools and libraries needed for coreboot" title="Direct link to Step 1: Install tools and libraries needed for coreboot" translate="no">​</a></h2>
<p>Coreboot needs several development tools and libraries to compile successfully.
The packages you need depend on your Linux distribution. Run the command that matches your system:</p>
<p>Debian-based distros (e.g., Ubuntu, Linux Mint):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt install -y python-is-python3 bison build-essential curl flex git gnat libncurses-dev libssl-dev zlib1g-dev pkgconf libpci-dev flashrom coreboot-utils</span><br></span></code></pre></div></div>
<p>Arch-based distros (e.g., Manjaro, EndeavourOS):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo pacman -S base-devel curl git gcc-ada ncurses zlib</span><br></span></code></pre></div></div>
<p>Red Hat-based distros (e.g., Fedora, CentOS, RHEL):</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo dnf install git make gcc-gnat flex bison xz bzip2 gcc g++ ncurses-devel wget zlib-devel patch</span><br></span></code></pre></div></div>
<p>If any package is missing, Coreboot may fail to build, so make sure the installation finishes without errors.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2-download-coreboot-source-tree">Step 2: Download Coreboot Source Tree<a href="#step-2-download-coreboot-source-tree" class="hash-link" aria-label="Direct link to Step 2: Download Coreboot Source Tree" title="Direct link to Step 2: Download Coreboot Source Tree" translate="no">​</a></h2>
<p>We will now download Coreboot’s source code from the official repository and move into its directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https://review.coreboot.org/coreboot</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd coreboot</span><br></span></code></pre></div></div>
<p>This will give you the latest development version of Coreboot.
If you want to build a specific version, you can check out the corresponding branch or tag after cloning.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-3-build-the-coreboot-toolchain">Step 3: Build the Coreboot Toolchain<a href="#step-3-build-the-coreboot-toolchain" class="hash-link" aria-label="Direct link to Step 3: Build the Coreboot Toolchain" title="Direct link to Step 3: Build the Coreboot Toolchain" translate="no">​</a></h2>
<p>Coreboot uses its own toolchain to ensure that builds are reproducible and work on all supported boards.
You must build this toolchain before compiling Coreboot itself.</p>
<p>First, see which toolchains are available:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make help_toolchain</span><br></span></code></pre></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Output</summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">*** Toolchain targets ***</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  crossgcc        - Build coreboot cross-compilers for all platforms</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  crossgcc-clean  - Remove all built coreboot cross-compilers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  iasl            - Build coreboot IASL compiler (built by all cross targets)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  clang           - Build coreboot clang compiler</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  nasm            - Build coreboot nasm</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  test-toolchain  - Reports if toolchain components are out of date</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  crossgcc-ARCH   - Build cross-compiler for specific architecture</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ARCH can be &quot;i386&quot;, &quot;x64&quot;, &quot;arm&quot;, &quot;aarch64&quot;, &quot;riscv&quot;, &quot;ppc64&quot;, &quot;nds32le&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Use &quot;make [target] CPUS=#&quot; to build toolchain using multiple cores</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Use &quot;make [target] DEST=some/path&quot; to install toolchain there</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Use &quot;make [target] BUILDGCC_OPTIONS=&quot;-m&quot; to get packages from coreboot mirror&quot;</span><br></span></code></pre></div></div><p></p></div></div></details>
<p>Choose the one that matches your target architecture.
For most x86 systems, including laptops like the ThinkPad T430s, use the i386 toolchain.</p>
<p>Examples:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make crossgcc-i386 CPUS=$(nproc)       # build i386 toolchain</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make crossgcc-aarch64 CPUS=$(nproc)    # build Aarch64 toolchain</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">make crossgcc-riscv CPUS=$(nproc)      # build RISC-V toolchain</span><br></span></code></pre></div></div>
<p><strong>Important notes:</strong></p>
<ul>
<li class="">The <code>i386</code> toolchain works for all x86 and x86_64 boards.</li>
<li class="">You can try building with your system’s compiler, but this often causes build errors. The Coreboot toolchain is strongly recommended.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-4-configure-the-build">Step 4: Configure the Build<a href="#step-4-configure-the-build" class="hash-link" aria-label="Direct link to Step 4: Configure the Build" title="Direct link to Step 4: Configure the Build" translate="no">​</a></h2>
<p>In this step, we configure Coreboot for your specific computer, in this example, the Lenovo ThinkPad T430s. Coreboot is highly modular, and the configuration determines how it initializes your hardware and what additional software (“payloads”) it will run after startup.</p>
<p>Run the interactive configuration menu:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make menuconfig</span><br></span></code></pre></div></div>
<p>This menu lets you select various options such as the motherboard, ROM chip size, and payload.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="motherboard">Motherboard<a href="#motherboard" class="hash-link" aria-label="Direct link to Motherboard" title="Direct link to Motherboard" translate="no">​</a></h3>
<p>Navigate in the menu:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Mainboard  ---&gt;  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Mainboard vendor (Lenovo)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Mainboard model (ThinkPad T430s)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ROM chip size (16384 KB (16 MB))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Exit &gt;</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Make sure the ROM chip size matches your actual hardware. Using the wrong size may result in a non-working firmware.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="payload">Payload<a href="#payload" class="hash-link" aria-label="Direct link to Payload" title="Direct link to Payload" translate="no">​</a></h3>
<p>A payload in Coreboot is a small program that Coreboot loads after it finishes initializing the hardware. Common payloads include:</p>
<ul>
<li class=""><strong>SeaBIOS</strong>: provides a legacy BIOS environment to boot traditional operating systems.</li>
<li class=""><strong>GRUB2</strong>: a modern bootloader capable of booting Linux, Windows, and other systems, with more features than SeaBIOS.</li>
</ul>
<p>Next, select your preferred payload.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="seabios">SeaBIOS<a href="#seabios" class="hash-link" aria-label="Direct link to SeaBIOS" title="Direct link to SeaBIOS" translate="no">​</a></h4>
<p>SeaBIOS provides a traditional BIOS interface, making it a simple choice for booting legacy operating systems or when you want a classic BIOS like experience.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload  ---&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Payload to add (SeaBIOS)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    SeaBIOS version (1.16.3)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Exit &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Exit &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Yes &gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="grub2">GRUB2<a href="#grub2" class="hash-link" aria-label="Direct link to GRUB2" title="Direct link to GRUB2" translate="no">​</a></h4>
<p>GRUB2 is a modern, flexible bootloader that can boot Linux, Windows, and other systems. It is more powerful than SeaBIOS but requires some extra configuration.</p>
<p>Install the required dependencies for building the GRUB2 payload:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt install automake autoconf autopoint libfreetype6-dev unifont fonts-unifont unifont-bin gawk</span><br></span></code></pre></div></div>
<p>In the configuration menu:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Payload  ---&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     Payload to add (GRUB2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     GRUB version (2.12)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     Extra modules to include in GRUB image (NEW)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [*]Include GRUB2 runtime config file into ROM image (NEW)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Exit &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Exit &gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt; Yes &gt;</span><br></span></code></pre></div></div>
<p>Add GRUB2 Extra Modules.</p>
<p>Modules extend GRUB’s capabilities, for example supporting USB, LVM, encryption, or different filesystems. For a typical laptop, include:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cryptodisk nativedisk ehci ohci usb usbms usbserial_pl2303 usbserial_ftdi usbserial_usbdebug jpeg all_video hashsum regexp linux part_msdos part_gpt lvm luks gcry_md5 gcry_sha1 gcry_sha256 gcry_sha512 gcry_rsa gcry_rijndael gcry_des search search_fs_file search_fs_uuid configfile probe</span><br></span></code></pre></div></div>
<p>These modules ensure that GRUB can boot from internal disks, USB sticks, handle encrypted drives, and support multiple filesystems.</p>
<p>Create a basic <code>grub.cfg</code> to define the boot behavior and include it in the “Include GRUB2 runtime config file into ROM image” option.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>grub.cfg</summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Coreboot GRUB2: auto-boot with ESC menu and user instructions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set timeout=2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set timeout_style=hidden</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">set default=0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Show instructions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo &quot;Press ESC to access the boot menu.&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo &quot;Otherwise, the system will boot from the hard drive automatically.&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Primary entry: Boot internal disk ###</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">menuentry &quot;Boot first disk&quot; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    echo &quot;Booting from the hard drive...&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    search --no-floppy --set=root --file /grub/grub.cfg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    configfile /grub/grub.cfg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Secondary entry: Boot from USB via ESC ###</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">menuentry &quot;Boot USB&quot; {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    search --no-floppy --removable --file /boot/grub/grub.cfg --set=root</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    configfile /grub/grub.cfg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre></div></div><p></p></div></div></details>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="optional-save-your-configuration-to-a-file">(Optional) Save your configuration to a file:<a href="#optional-save-your-configuration-to-a-file" class="hash-link" aria-label="Direct link to (Optional) Save your configuration to a file:" title="Direct link to (Optional) Save your configuration to a file:" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make savedefconfig</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cat defconfig</span><br></span></code></pre></div></div>
<p>For SeaBIOS, your configuration might include:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_VENDOR_LENOVO=y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_BOARD_LENOVO_T430S=y</span><br></span></code></pre></div></div>
<p>For GRUB2, it might look like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_VENDOR_LENOVO=y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_BOARD_LENOVO_T430S=y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_PAYLOAD_GRUB2=y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_GRUB2_EXTRA_MODULES=&quot;cryptodisk nativedisk ehci ohci usb usbms usbserial_pl2303 usbserial_ftdi usbserial_usbdebug jpeg all_video hashsum regexp linux part_msdos part_gpt lvm luks gcry_md5 gcry_sha1 gcry_sha256 gcry_sha512 gcry_rsa gcry_rijndael gcry_des search search_fs_file search_fs_uuid configfile probe&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CONFIG_GRUB2_INCLUDE_RUNTIME_CONFIG_FILE=y</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This may vary depending on your Coreboot source version. Do not worry if there are more or fewer lines.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-5-build-coreboot">Step 5: Build Coreboot<a href="#step-5-build-coreboot" class="hash-link" aria-label="Direct link to Step 5: Build Coreboot" title="Direct link to Step 5: Build Coreboot" translate="no">​</a></h2>
<p>With everything set up, you can now build Coreboot:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make</span><br></span></code></pre></div></div>
<p>If the build completes successfully, you will see a message like:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Built lenovo/t430s (ThinkPad T430s)</span><br></span></code></pre></div></div>
<p>The compiled ROM file will be located at <code>build/coreboot.rom</code>.</p>
<p>If you want to start fresh and remove all compiled files, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">make distclean</span><br></span></code></pre></div></div>
<p>This will reset the build environment so you can reconfigure and rebuild from scratch.</p>
<p>You now have a Coreboot ROM ready to flash to your device!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/coreboot">coreboot</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/build">build</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/bios">bios</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/coreboot/requirements"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Requirements</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/internal-flashing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Internal Flashing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-1-install-tools-and-libraries-needed-for-coreboot" class="table-of-contents__link toc-highlight">Step 1: Install tools and libraries needed for coreboot</a></li><li><a href="#step-2-download-coreboot-source-tree" class="table-of-contents__link toc-highlight">Step 2: Download Coreboot Source Tree</a></li><li><a href="#step-3-build-the-coreboot-toolchain" class="table-of-contents__link toc-highlight">Step 3: Build the Coreboot Toolchain</a></li><li><a href="#step-4-configure-the-build" class="table-of-contents__link toc-highlight">Step 4: Configure the Build</a><ul><li><a href="#motherboard" class="table-of-contents__link toc-highlight">Motherboard</a></li><li><a href="#payload" class="table-of-contents__link toc-highlight">Payload</a></li></ul></li><li><a href="#step-5-build-coreboot" class="table-of-contents__link toc-highlight">Step 5: Build Coreboot</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Guides</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/seed">DIY Seed</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/libreboot">Libreboot</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/bitcoin-node">Bitcoin Node</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Devices</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/bitcoin-computer">Bitcoin computer</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/air-gapped-computer">Air-gapped computer</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nostr-signing-device">Nostr Signing Device</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Find Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://keybase.io/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://orangepill.app.link/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">Orange Pill App<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 BTC Self Custody. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>