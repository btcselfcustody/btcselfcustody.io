<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-libreboot/flashing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Flashing | BTC Self Custody</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://btcselfcustody.io/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://btcselfcustody.io/img/logo.svg"><meta data-rh="true" property="og:url" content="https://btcselfcustody.io/docs/libreboot/flashing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Flashing | BTC Self Custody"><meta data-rh="true" name="description" content="Now that we have installed Libreboot, set up flashprog, and prepared our Raspberry Pi Pico as an SPI programmer, we are finally ready to flash the BIOS. Before we dive into the steps, I want to emphasize the importance of making a backup copy of your current BIOS. This way, if anything goes wrong during the flashing process, you will have a copy of the original BIOS that you can restore."><meta data-rh="true" property="og:description" content="Now that we have installed Libreboot, set up flashprog, and prepared our Raspberry Pi Pico as an SPI programmer, we are finally ready to flash the BIOS. Before we dive into the steps, I want to emphasize the importance of making a backup copy of your current BIOS. This way, if anything goes wrong during the flashing process, you will have a copy of the original BIOS that you can restore."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://btcselfcustody.io/docs/libreboot/flashing"><link data-rh="true" rel="alternate" href="https://btcselfcustody.io/docs/libreboot/flashing" hreflang="en"><link data-rh="true" rel="alternate" href="https://btcselfcustody.io/docs/libreboot/flashing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Flashing","item":"https://btcselfcustody.io/docs/libreboot/flashing/"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DB4LHSKK4J"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DB4LHSKK4J",{anonymize_ip:!0})</script>




<script src="https://cloud.umami.is/script.js" defer="defer" data-website-id="5649cb57-bc60-498c-a7ff-2d044fc85912"></script><link rel="stylesheet" href="/assets/css/styles.87dc0335.css">
<script src="/assets/js/runtime~main.0d9feaea.js" defer="defer"></script>
<script src="/assets/js/main.a8db4514.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BTC Self Custody" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="BTC Self Custody" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BTC Self Custody</b></a><a class="navbar__item navbar__link" href="/guides">Guides</a><a class="navbar__item navbar__link" href="/docs/basics/what-is-self-custody">Basics</a><a class="navbar__item navbar__link" href="/bitcoin-devices">Bitcoin Devices</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Education</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/books">Books</a></li><li><a class="dropdown__link" href="/podcasts">Podcasts</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Resources</a><ul class="dropdown__menu"><li><a href="https://timechainstats.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">TimechainStats<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://mempool.space.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Mempool<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/bitcoin/bips/blob/master/bip-0039/english.txt" target="_blank" rel="noopener noreferrer" class="dropdown__link">BIP39<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Find Us</a><ul class="dropdown__menu"><li><a href="https://primal.net/p/nprofile1qqspxh8lqez8f9kt2cv7626rfax0phl8lu8tgt0jjjkwa6n8lhmt9qgxf4ey5" target="_blank" rel="noopener noreferrer" class="dropdown__link">Nostr<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://x.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="dropdown__link">X<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="mailto:btcselfcustody@proton.me" target="_blank" rel="noopener noreferrer" class="dropdown__link">E-mail<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://app.cluborange.org/btcselfcustody" target="_blank" rel="noopener noreferrer" class="dropdown__link">Club Orange App<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://keybase.io/btcselfcustody" target="_blank" rel="noopener noreferrer" class="dropdown__link">Keybase<svg width="12" height="12" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header--github-link" aria-label="GitHub repository"></a><a href="https://app.cluborange.org/btcselfcustody" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header--cluborange-link" aria-label="Club Orange App"></a><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/libreboot"><span title="Libreboot" class="linkLabel_WmDU">Libreboot</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/libreboot/requirements"><span title="HW Requirements" class="linkLabel_WmDU">HW Requirements</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/libreboot/build-libreboot"><span title="Build Libreboot" class="linkLabel_WmDU">Build Libreboot</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/libreboot/build-roms"><span title="Build Roms" class="linkLabel_WmDU">Build Roms</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/libreboot/build-flashprog"><span title="Build Flashprog" class="linkLabel_WmDU">Build Flashprog</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/prepare-raspberry-pico"><span title="Prepare Raspberry Pico" class="categoryLinkLabel_W154">Prepare Raspberry Pico</span></a><button aria-label="Expand sidebar category &#x27;Prepare Raspberry Pico&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/libreboot/flashing"><span title="Flashing" class="linkLabel_WmDU">Flashing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/libreboot/update"><span title="Update" class="linkLabel_WmDU">Update</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Flashing</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Flashing</h1></header>
<p>Now that we have installed Libreboot, set up flashprog, and prepared our Raspberry Pi Pico as an SPI programmer, we are finally ready to flash the BIOS. Before we dive into the steps, I want to emphasize the importance of making a backup copy of your current BIOS. This way, if anything goes wrong during the flashing process, you will have a copy of the original BIOS that you can restore.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="locate-the-chips">Locate the chip(s)<a href="#locate-the-chips" class="hash-link" aria-label="Direct link to Locate the chip(s)" title="Direct link to Locate the chip(s)" translate="no">​</a></h2>
<p>The following ThinkPad models have a 12MB BIOS, which is split between <strong>two chips</strong> on the motherboard: one with 4MB and the other with 8MB.</p>
<ul>
<li class="">X230 – Accessing the BIOS chips is simple; you only need to remove the keyboard and palm rest (see the photo).</li>
<li class="">T440p – The BIOS chips can be accessed from the back of the laptop.</li>
<li class="">T420 / T430 / T530 / W530 – Full disassembly of the laptop is required to access the BIOS chips.</li>
</ul>
<p><img decoding="async" loading="lazy" src="/assets/images/dual_chip-bd7d3f3335762bbbb36e9a36f5925f0f.jpg" width="1280" height="960" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>T480/T480s</div><div class="admonitionContent_BuS1"><p>If you&#x27;re flashing this model, you <strong>DO NOT</strong> need to split the ROM, as it has only one chip. It&#x27;s easily accessible by simply removing the back cover of the laptop. You’ll only need to flash that single chip.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="splitting-the-rom">Splitting the Rom<a href="#splitting-the-rom" class="hash-link" aria-label="Direct link to Splitting the Rom" title="Direct link to Splitting the Rom" translate="no">​</a></h2>
<p>For the , you&#x27;ll need to divide your ROM into two distinct portions prior to flashing. This can be accomplished using the dd command.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">dd if=seabios_&lt;rom_name&gt;_libgfxinit_corebootfb.rom of=libreboot_top.rom bs=1M skip=8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">dd if=seabios_&lt;rom_name&gt;_libgfxinit_corebootfb.rom of=libreboot_bottom.rom bs=1M count=8</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="detect-the-chips">Detect the Chip(s)<a href="#detect-the-chips" class="hash-link" aria-label="Direct link to Detect the Chip(s)" title="Direct link to Detect the Chip(s)" translate="no">​</a></h2>
<p>Now, you need to detect the chip models using flashprog. To ensure accurate detection, follow these steps for each BIOS chip:</p>
<ul>
<li class="">Connect the Raspberry Pico to the Pomona using Dupont cables, as completed in the preceding step.</li>
<li class="">Clip the Pomona onto the top BIOS chip firmly</li>
<li class="">Plug the Raspberry Pico into the laptop using a USB cable</li>
</ul>
<p><img decoding="async" loading="lazy" src="/assets/images/plug-df4250446be0c584803dddc6f9f556fe.jpg" width="1280" height="960" class="img_ev3q"></p>
<p>Execute the following command to detect the chip</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M</span><br></span></code></pre></div></div>
<p>If multiple chips are detected, verify whether the one you previously photographed or one closely resembling it is present. Subsequently, re-run the command, making sure to specify the name of the pertinent chip.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;MX25L3206E/MX25L3208E&quot;</span><br></span></code></pre></div></div>
<p>If the Raspberry Pico detects the chip, you may proceed by creating a backup.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="backup-the-factory-bios">Backup the factory Bios<a href="#backup-the-factory-bios" class="hash-link" aria-label="Direct link to Backup the factory Bios" title="Direct link to Backup the factory Bios" translate="no">​</a></h2>
<p>To create a reliable backup of the BIOS chip(s), it&#x27;s advisable to perform a triple dump of them</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="factory_topbin">factory_top.bin<a href="#factory_topbin" class="hash-link" aria-label="Direct link to factory_top.bin" title="Direct link to factory_top.bin" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;MX25L3206E/MX25L3208E&quot; -r factory_top.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;MX25L3206E/MX25L3208E&quot; -r factory_top2.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;MX25L3206E/MX25L3208E&quot; -r factory_top3.bin</span><br></span></code></pre></div></div>
<p>Next, use <code>sha1sum</code> to compare the dumped BIOS images</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sha1sum factory_top.bin factory_top2.bin factory_top3.bin</span><br></span></code></pre></div></div>
<p>If the hashes match, you should see something like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">6cf9bfc90df1ed01336872cd159a00c101d0a7b0  factory_top.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">6cf9bfc90df1ed01336872cd159a00c101d0a7b0  factory_top2.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">6cf9bfc90df1ed01336872cd159a00c101d0a7b0  factory_top3.bin</span><br></span></code></pre></div></div>
<p>Once you&#x27;ve confirmed that the hashes are the same, you can clean up any temporary dump files:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rm -fr factory_top2.bin factory_top3.bin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="factory_bottombin">factory_bottom.bin<a href="#factory_bottombin" class="hash-link" aria-label="Direct link to factory_bottom.bin" title="Direct link to factory_bottom.bin" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;EN25Q64&quot; -r factory_bottom.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;EN25Q64&quot; -r factory_bottom2.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;EN25Q64&quot; -r factory_bottom3.bin</span><br></span></code></pre></div></div>
<p>Next, use sha1sum to compare the dumped BIOS images</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sha1sum factory_bottom.bin factory_bottom2.bin factory_bottom3.bin</span><br></span></code></pre></div></div>
<p>If the hashes match, you should see something like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">06347c0988657c5df41fa3a691071d0105b0edba  factory_bottom.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">06347c0988657c5df41fa3a691071d0105b0edba  factory_bottom2.bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">06347c0988657c5df41fa3a691071d0105b0edba  factory_bottom3.bin</span><br></span></code></pre></div></div>
<p>Once you&#x27;ve confirmed that the hashes are the same, you can clean up any temporary dump files:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rm -fr factory_bottom2.bin factory_bottom3.bin</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="write-the-rom-to-the-chip">Write the Rom to the Chip<a href="#write-the-rom-to-the-chip" class="hash-link" aria-label="Direct link to Write the Rom to the Chip" title="Direct link to Write the Rom to the Chip" translate="no">​</a></h2>
<p>Before writing the BIOS into the chip(s), ensure to remove the CMOS battery as a security precaution.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="libreboot_toprom">libreboot_top.rom<a href="#libreboot_toprom" class="hash-link" aria-label="Direct link to libreboot_top.rom" title="Direct link to libreboot_top.rom" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;MX25L3206E/MX25L3208E&quot; -w libreboot_top.rom</span><br></span></code></pre></div></div>
<p>To double-check, you can dump the newly flashed BIOS image</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;MX25L3206E/MX25L3208E&quot; -r flashed_top.bin</span><br></span></code></pre></div></div>
<p>Next, use sha1sum to compare the dumped BIOS image with the original libreboot_top.rom file</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sha1sum libreboot_top.rom flashed_top.bin</span><br></span></code></pre></div></div>
<p>If the hashes match, you should see something like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">42489cdfda9666177cd9abc1876f4dea258f7ab8  libreboot_top.rom</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">42489cdfda9666177cd9abc1876f4dea258f7ab8  flashed_top.bin</span><br></span></code></pre></div></div>
<p>Once you&#x27;ve confirmed that the hashes are the same, you can clean up any temporary dump files:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rm -fr flashed_top.bin</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="libreboot_bottomrom">libreboot_bottom.rom<a href="#libreboot_bottomrom" class="hash-link" aria-label="Direct link to libreboot_bottom.rom" title="Direct link to libreboot_bottom.rom" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;EN25Q64&quot; -w libreboot_bottom.rom</span><br></span></code></pre></div></div>
<p>To double-check, you can dump the newly flashed BIOS image</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo flashprog -p serprog:dev=/dev/ttyACM0,spispeed=16M -c &quot;EN25Q64&quot; -r flashed_bottom.bin</span><br></span></code></pre></div></div>
<p>Next, use sha1sum to compare the dumped BIOS image with the original libreboot_bottom.rom file</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sha1sum libreboot_bottom.rom flashed_bottom.bin</span><br></span></code></pre></div></div>
<p>If the hashes match, you should see something like this:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">4b9f06ccd2ce11dad757e337829a450a05df7929  libreboot_bottom.rom</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">4b9f06ccd2ce11dad757e337829a450a05df7929  flashed_bottom.bin</span><br></span></code></pre></div></div>
<p>Once you&#x27;ve confirmed that the hashes are the same, you can clean up any temporary dump files:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">rm -fr flashed_bottom.bin</span><br></span></code></pre></div></div>
<p>If everything went well, simply restart your laptop before putting it back together to ensure that Libreboot starts properly.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/libreboot">libreboot</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/flash">flash</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/flashprog">flashprog</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/bios">bios</a></li></ul></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/libreboot/pico-pomona-connection"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Pico-Pomona Clip Connection</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/libreboot/update"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Update</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#locate-the-chips" class="table-of-contents__link toc-highlight">Locate the chip(s)</a></li><li><a href="#splitting-the-rom" class="table-of-contents__link toc-highlight">Splitting the Rom</a></li><li><a href="#detect-the-chips" class="table-of-contents__link toc-highlight">Detect the Chip(s)</a></li><li><a href="#backup-the-factory-bios" class="table-of-contents__link toc-highlight">Backup the factory Bios</a><ul><li><a href="#factory_topbin" class="table-of-contents__link toc-highlight">factory_top.bin</a></li><li><a href="#factory_bottombin" class="table-of-contents__link toc-highlight">factory_bottom.bin</a></li></ul></li><li><a href="#write-the-rom-to-the-chip" class="table-of-contents__link toc-highlight">Write the Rom to the Chip</a><ul><li><a href="#libreboot_toprom" class="table-of-contents__link toc-highlight">libreboot_top.rom</a></li><li><a href="#libreboot_bottomrom" class="table-of-contents__link toc-highlight">libreboot_bottom.rom</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Guides</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/seed">DIY Seed</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/libreboot">Libreboot</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/bitcoin-node">Bitcoin Node</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Devices</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/bitcoin-computer">Bitcoin computer</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/air-gapped-computer">Air-gapped computer</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/nostr-signing-device">Nostr Signing Device</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Find Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://keybase.io/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">Keybase<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://app.cluborange.org/btcselfcustody" target="_blank" rel="noopener noreferrer" class="footer__link-item">Club Orange App<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 BTC Self Custody. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>